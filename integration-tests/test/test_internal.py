"""Tests for the testing code itself."""

import random

from .common import (
    KeyPair,
)
from .rnode import (
    extract_block_hash_from_propose_output,
    extract_block_count_from_show_blocks,
    parse_show_blocks_key_value_line,
    parse_show_blocks_output,
    parse_show_block_output,
    extract_validator_stake_from_bonds_validator_str,
)
from .conftest import (
    make_wallets_file_lines,
)


def test_blocks_count_from_show_blocks() -> None:
    show_blocks_output = '''
------------- block 0 ---------------
blockHash: "630c5372c67cc5400a9eb11459bb240226273a693bbb018df829a3119b26bbf0"
blockSize: "99746"
blockNumber: 0
version: 1
deployCount: 10
tupleSpaceHash: "f2fdac324a5fa86f58d3e8162ad5108d9bc75773311d32bb9bc36b74c632793a"
timestamp: 1
faultTolerance: 1.0
mainParentHash: ""
sender: ""

-----------------------------------------------------


count: 123

'''
    assert extract_block_count_from_show_blocks(show_blocks_output) == 123


def test_parse_show_blocks_key_value_line() -> None:
    assert parse_show_blocks_key_value_line('''blockHash: "cf42c994ff30189c35cbd007719c6bdb361b28c70ae88889a6e54b5431b8f7eb"''') == ('blockHash', '"cf42c994ff30189c35cbd007719c6bdb361b28c70ae88889a6e54b5431b8f7eb"')
    assert parse_show_blocks_key_value_line('''blockSize: "111761"''') == ('blockSize', '"111761"')
    assert parse_show_blocks_key_value_line('''blockNumber: 0''') == ('blockNumber', '0')
    assert parse_show_blocks_key_value_line('''version: 1''') == ('version', '1')
    assert parse_show_blocks_key_value_line('''deployCount: 10''') == ('deployCount', '10')
    assert parse_show_blocks_key_value_line('''tupleSpaceHash: "dcd6e349d5b4ca45a11811808ad7757bdfb856b093e02c7e4a2930817f179cdb"''') == ('tupleSpaceHash', '"dcd6e349d5b4ca45a11811808ad7757bdfb856b093e02c7e4a2930817f179cdb"')
    assert parse_show_blocks_key_value_line('''timestamp: 1''') == ('timestamp', '1')
    assert parse_show_blocks_key_value_line('''faultTolerance: -0.6666667''') == ('faultTolerance', '-0.6666667')
    assert parse_show_blocks_key_value_line('''mainParentHash: ""''') == ('mainParentHash', '""')
    assert parse_show_blocks_key_value_line('''sender: ""''') == ('sender', '""')


def test_parse_show_blocks_output() -> None:
    input = '''
------------- block 0 ---------------
blockHash: "cf42c994ff30189c35cbd007719c6bdb361b28c70ae88889a6e54b5431b8f7eb"
blockSize: "111761"
blockNumber: 0
version: 1
deployCount: 10
tupleSpaceHash: "dcd6e349d5b4ca45a11811808ad7757bdfb856b093e02c7e4a2930817f179cdb"
timestamp: 1
faultTolerance: -0.6666667
mainParentHash: ""
sender: ""

-----------------------------------------------------


count: 1

'''

    output = parse_show_blocks_output(input)
    assert len(output) == 1
    block = output[0]
    assert block['blockHash'] == '"cf42c994ff30189c35cbd007719c6bdb361b28c70ae88889a6e54b5431b8f7eb"'
    assert block['blockSize'] == '"111761"'
    assert block['blockNumber'] == '0'
    assert block['version'] == '1'
    assert block['deployCount'] == '10'
    assert block['tupleSpaceHash'] == '"dcd6e349d5b4ca45a11811808ad7757bdfb856b093e02c7e4a2930817f179cdb"'
    assert block['timestamp'] == '1'
    assert block['faultTolerance'] == '-0.6666667'
    assert block['mainParentHash'] == '""'
    assert block['sender'] == '""'

def test_parse_show_block_output() -> None:
    input = r'''status: "Success"
blockInfo {
  blockHash: "fd219ca26e55e671168fc907490a04a1a89651693544fabf4e6b74478ec2b337"
  blockSize: "115078"
  blockNumber: 0
  version: 1
  deployCount: 10
  tupleSpaceHash: "fc138f97493733c5cde8b8d4284326023e6ce07e6e858cdfe83fa70bcb5e9550"
  tupleSpaceDump: "@{Unforgeable(0xad98595d7c7c9141e8ab2b849ecdb19be0ab5bcfcf9f49815988164e4139008d)}!(bundle+ {   Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726) }) |\n@{Unforgeable(0xa50a17f94a9bf43206517f07ddcd76e64e8350533ad0b6715b0e559eac10b8dd)}!(`rho:id:dputnspi15oxxnyymjrpu7rkaok3bjkiwq84z7cqcrx4ktqfpyapn4`) |\n@{Unforgeable(0x059b9866df5308ec4ae6e8799bc0fcc79e81222555c16833180beca29f57405d)}!!(1) |\n@{Unforgeable(0xa4fd447dedfc960485983ee817632cf36d79f45fd1796019edfb4a84a81d1697)}!({10 : (0, fbabc50f5621bc513c4ff68cc19155f1d88074a83a89c7820123baf0d5f913, (9223372036854775807, bundle+ {   Unforgeable(0x289e512cb46e7491c54d8e42c5f997c2a85be7e1222dcf9810ac24bf960748e0) })), 13 : (0, a27eed28c68843e727c82de34ef60a026f2bb0ecf84a8a3e1f54bf74e7f334, (9223372036854775807, bundle+ {   Unforgeable(0x8893dc03670ac506ba3005e3509f9591e03120664d02a3960ae821c2714eee7b) })), 1b : (0, 671159b596e0f788005a48d9f48ac41590a555a38fabf58e611fa545c56830, (9223372036854775807, bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) })), 26 : (0, 5a5a7280b94d91641c608749daeab5c92911230aad5bdf48705c2a1b74d7d4, (9223372036854775807, bundle+ {   Unforgeable(0x3b88933c23a6b2129868bf36bff0f3b512b0d43b32803052dc632f4720ccc214) })), 43 : (0, e62055355e1aaedf593642127bf8a3877de9402413f76b2934f23e6fdd2bec, (9223372036854775807, bundle+ {   Unforgeable(0xdf2886c69e880d611d9c609d5ea51a59e43a684f3a587b233be034dace00d092) })), 4f : (0, a24c702f0326b4128d26dc06a3a9d643d43b87c4d01a5b1f10bc7a975d35a9, (9223372036854775807, bundle+ {   Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd) })), 83 : (0, 917d77625bdff54595b303c6da47a0962a457e41af587199228774294bb11b, (9223372036854775807, bundle+ {   Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2) })), a0 : (0, e8ccf8baabf1e7e18c56463435669a26bede689b2e68f18e6fbbd928733a60, (9223372036854775807, bundle+ {   Unforgeable(0xeaf4d685675c199b2a2cceef521dacaaa711cd70c7d082c20d154507e5c58407) })), c8 : (0, 2ac7ce3b7c5fb8896212238ee19181740b232fc08d4d629789d87851cb18cc, (9223372036854775807, bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }))}) |\n@{Unforgeable(0x8377903891186fef0f202b5ca147b5ffefa3eb9c04404b57a57d4c348c94820b)}!(`rho:id:3yicxut5xtx5tnmnneta7actof4yse3xangw4awzt8c8owqmddgyms`) |\n@{Unforgeable(0xedda499ae3c26adb2b4acb5126330082d906501e880413de333c831bd0b81b63)}!(`rho:id:r3pfwhwyzfg3n3yhcndwuszkszr11rjdbksizz4eqbqnwg5w49kfo7`) |\n@{Unforgeable(0x5170b7b0c9cc4a8ab9f00c5d20b02eacede4857d7f2847f1bb03c00b84a21b9e)}!(`rho:id:nd74ztexkao5awjhj95e3octkza7tydwiy7euthnyrt5ihgi9rj495`) |\n@{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)}!(false) |\n@{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)}!(false) |\n@{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!(72) |\n@{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)}!((Nil, Nil, Nil, Nil)) |\n@{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!(42) |\n@{Unforgeable(0x591d98d76d87741fc9b8d1b9bdce8f8e51c7573c91c419b7210ca700cf7651e9)}!({\"0x02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821\" : Unforgeable(0x59595360327692e8ea348d8cb0a11b1588b675816a49af31674c9867a6ba0caa), \"0x043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e\" : Unforgeable(0xf1906377eb117d8eb0866b0c54afae052c90175d89c2c9aaba085969352de7e2), \"0x1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97\" : Unforgeable(0x5ed46b2e95f74519902d86ec097db20297764501de1f597b8cac5927895f4edd), \"0x23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3\" : Unforgeable(0x3b464a1de4a16393c7727f6da36777e5709f494f5b588c109446d4403366ed2a)}) |\n@{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!({}) |\n@{Unforgeable(0x7b0c7c28647acec15d4a09e21917aaeac161f23e67137331c1e90544c6b5176b)}!(`rho:id:oqez475nmxx9ktciscbhps18wnmnwtm6egziohc3rkdzekkmsrpuyt`) |\n@{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!(82) |\n@{Unforgeable(0xafcdd41733c03728e620ed8b0f68d0ebdcc6c2eddf7ab604d24e987e63747d33)}!(`rho:id:exunyijimapk7z43g3bbr69awqdz54kyroj9q43jgu3dh567fxsftx`) |\n@{Unforgeable(0x4b3d5423c5cd69c686bff8b8213df4b51f14db5508e55257350d801b1ee54d20)}!(`rho:id:wdwc36f4ixa6xacck3ddepmgueum7zueuczgthcqp6771kdu8jogm8`) |\n@{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)}!({02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821 : (43, \"secp256k1Verify\", Nil, 1), 043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e : (15, \"secp256k1Verify\", Nil, 2), 1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97 : (2, \"secp256k1Verify\", Nil, 3), 23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3 : (81, \"secp256k1Verify\", Nil, 4)}) |\n@{Unforgeable(0x6867894b9697f1d8f5b78c666c8ac292699254cf90e1fb83ecdf91700c03bec5)}!(Nil) |\n@{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)}!(false) |\n@{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!(8) |\n@{Unforgeable(0x7b8c542e32d26e3d7607115470d1fc5bf499fab0c927b95a9ce3574d3544b78d)}!(bundle+ {   Unforgeable(0x02745bdb79d7b1ffbd71945e8acd8c272306eff7f394bf26597a46592850d560) }) |\n@{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!(141) |\n@{Unforgeable(0xafaff50bd6e61f413e638c2836a96b0f2092cbe830cc63fe904fb78569a1354f)}!(`rho:id:nqt875jea4rr83383ys6guzsbebg6k7o7uhrint6d7km67886c4y4s`) |\n@{Unforgeable(0xdec88e61b39eb95a76d6f63d74856d90e978063294776a8d806b0afc95313538)}!(`rho:id:j6trahbxycumerwpr5qype7j43b7eqh8auebwsa9nn68if47gswh73`) |\n@{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)}!(false) |\nfor( @{\"deposit\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)} ) {\n  new x3 in {\n    @{x1}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{bundle+ {   Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b) }}!(\"add\", x0, x2) ;\n        false => @{x2}!(false)\n      }\n    }\n  }\n} |\nfor( @{\"split\"}, @{x0}, @{x1} <= @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)} ) {\n  new x2, x3 in {\n    @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)}!(\"sprout\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x4}!(\"deposit\", x0, Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe), *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          true => @{x1}!([x4]) ;\n          false => @{x1}!([])\n        }\n      }\n    }\n  }\n} |\nfor( @{\"getBalance\"}, @{x0} <= @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)} ) {\n  @{bundle+ {   Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b) }}!(\"value\", x0)\n} |\nfor( @{\"sprout\"}, @{x0} <= @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)} ) {\n  @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x0)\n} |\nfor( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x0}, @{x1} <= @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)} ) {\n  @{bundle+ {   Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b) }}!(\"sub\", x0, x1)\n} |\nfor( @{x0} <= @{Unforgeable(0x0c)} ) {\n  Nil\n} |\nfor( @{\"foreach\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3, x4 in {\n    @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"fold\", x0, Nil, *x3, *x4) |\n    for( @{_} <- x4 ) {\n      @{x2}!(true)\n    } |\n    for( @{x5}, @{x6}, @{x7} <= x3 ) {\n      new x8 in {\n        @{x1}!(x5, *x8) |\n        for( @{_} <- x8 ) {\n          @{x7}!(Nil)\n        }\n      }\n    }\n  }\n} |\nfor( @{\"append\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  @{x2}!((x0 ++ [x1]))\n} |\nfor( @{\"zip\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3 in {\n    x3!((x0, x1), [], x2) |\n    for( @{x4}, @{x5}, @{x6} <= x3 ) {\n      match x4 {\n        ([x8...x7], [x10...x9]) => x3!((x7, x9), (x5 ++ [(x8, x10)]), x6) ;\n        _ => @{x6}!(x5)\n      }\n    }\n  }\n} |\nfor( @{\"fold\"}, @{x0}, @{x1}, @{x2}, @{x3} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x4 in {\n    for( @{x5}, @{x6}, @{x7} <= x4 ) {\n      new x8 in {\n        @{x2}!(x5, x6, *x8) |\n        for( @{x9} <- x8 ) {\n          @{x7}!(false, x9)\n        }\n      }\n    } |\n    new x5 in {\n      @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"partialFold\", x0, x1, *x4, *x5) |\n      for( @{_}, @{x6} <- x5 ) {\n        @{x3}!(x6)\n      }\n    }\n  }\n} |\nfor( @{\"indexOf\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3 in {\n    for( @{x4}, @{x5}, @{x6} <= x3 ) {\n      @{x6}!((x4 == x1), (x5 + 1))\n    } |\n    new x4 in {\n      @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"partialFold\", x0, -1, *x3, *x4) |\n      for( @{x5}, @{x6} <- x4 ) {\n        match x5 {\n          true => @{x2}!(x6) ;\n          false => @{x2}!(-1)\n        }\n      }\n    }\n  }\n} |\nfor( @{\"parMap\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3, x4, x5 in {\n    @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"map\", x0, *x4, *x3) |\n    for( @{x6} <- x3 ) {\n      @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"map\", x6, *x5, x2)\n    } |\n    for( @{x6}, @{x7} <= x5 ) {\n      for( @{x8} <- @{x6} ) {\n        @{x7}!(x8)\n      }\n    } |\n    for( @{x6}, @{x7} <= x4 ) {\n      new x8 in {\n        @{x7}!(*x8) |\n        @{x1}!(x6, *x8)\n      }\n    }\n  }\n} |\nfor( @{\"unorderedParMap\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3, x4, x5, x6, x7 in {\n    for( @{x8} <= x4 ) {\n      for( @{x9} <- x7 ; @{x10} <- x6 ; @{x11} <- x5 ) {\n        x5!(x11) |\n        match (x11 == (x10 + 1)) {\n          true => @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"prepend\", x8, x9, x2) ;\n          false => x6!((x10 + 1)) |\n          @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"prepend\", x8, x9, *x7)\n        }\n      }\n    } |\n    for( @{x8}, @{x9} <= x3 ) {\n      match x8 {\n        [x11...x10] => new x12 in {\n          x3!(x10, (x9 + 1)) |\n          @{x1}!(x11, *x12) |\n          for( @{x13} <- x12 ) {\n            x4!(x13)\n          }\n        } ;\n        _ => x5!(x9)\n      }\n    } |\n    match x0 {\n      [] => @{x2}!([]) ;\n      _ => x7!([]) |\n      x6!(0) |\n      x3!(x0, 0)\n    }\n  }\n} |\nfor( @{\"map\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3 in {\n    @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"fold\", x0, [], *x3, x2) |\n    for( @{x4}, @{x5}, @{x6} <= x3 ) {\n      new x7 in {\n        @{x1}!(x4, *x7) |\n        for( @{x8} <- x7 ) {\n          @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"append\", x5, x8, x6)\n        }\n      }\n    }\n  }\n} |\nfor( @{\"reverse\"}, @{x0}, @{x1} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x2 in {\n    @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"fold\", x0, [], *x2, x1) |\n    for( @{x3}, @{x4}, @{x5} <= x2 ) {\n      @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"prepend\", x3, x4, x5)\n    }\n  }\n} |\nfor( @{\"prepend\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  @{x2}!(([x0] ++ x1))\n} |\nfor( @{\"range\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3 in {\n    x3!((x1 - 1), []) |\n    for( @{x4}, @{x5} <= x3 ) {\n      match (x4 < x0) {\n        true => @{x2}!(x5) ;\n        false => x3!((x4 - 1), ([x4] ++ x5))\n      }\n    }\n  }\n} |\nfor( @{\"partialFold\"}, @{x0}, @{x1}, @{x2}, @{x3} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x4 in {\n    x4!(x1, x0) |\n    for( @{x5}, @{x6} <= x4 ) {\n      match x6 {\n        [x8...x7] => new x9 in {\n          @{x2}!(x8, x5, *x9) |\n          for( @{x10}, @{x11} <- x9 ) {\n            match x10 {\n              true => @{x3}!(x10, x11) ;\n              false => x4!(x11, x7)\n            }\n          }\n        } ;\n        _ => @{x3}!(false, x5)\n      }\n    }\n  }\n} |\nfor( @{\"lookup\"}, @{x0}, @{x1} <= @{Unforgeable(0xeaf4d685675c199b2a2cceef521dacaaa711cd70c7d082c20d154507e5c58407)} ) {\n  match x0 {\n    \"faucet\" => for( @{x2} <- @{Unforgeable(0x6867894b9697f1d8f5b78c666c8ac292699254cf90e1fb83ecdf91700c03bec5)} ) {\n      @{x1}!(x2) |\n      @{Unforgeable(0x6867894b9697f1d8f5b78c666c8ac292699254cf90e1fb83ecdf91700c03bec5)}!(x2)\n    } ;\n    \"pos\" => for( @{x2} <- @{Unforgeable(0xad98595d7c7c9141e8ab2b849ecdb19be0ab5bcfcf9f49815988164e4139008d)} ) {\n      @{x1}!(x2) |\n      @{Unforgeable(0xad98595d7c7c9141e8ab2b849ecdb19be0ab5bcfcf9f49815988164e4139008d)}!(x2)\n    } ;\n    \"rev\" => for( @{x2} <- @{Unforgeable(0x7b8c542e32d26e3d7607115470d1fc5bf499fab0c927b95a9ce3574d3544b78d)} ) {\n      @{x1}!(x2) |\n      @{Unforgeable(0x7b8c542e32d26e3d7607115470d1fc5bf499fab0c927b95a9ce3574d3544b78d)}!(x2)\n    } ;\n    _ => @{x1}!(Nil)\n  }\n} |\nfor( @{x0} <= @{Unforgeable(0x0d)} ) {\n  Nil\n} |\nfor( @{x0}, @{x1} <= @{\"blake2b256Hash\"} ) {\n  Nil\n} |\nfor( @{x0} <= @{Unforgeable(0x00)} ) {\n  Nil\n} |\nfor( @{\"publicToAddr\"}, @{x0}, @{x1} <= @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)} ) {\n  new x2 in {\n    @{\"keccak256Hash\"}!((x0).hexToBytes(), *x2) |\n    for( @{x3} <- x2 ) {\n      @{x1}!((x3).slice(12,32))\n    }\n  }\n} |\nfor( @{\"create\"}, @{x0}, @{x1} <= @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)} ) {\n  new x2, x3 in {\n    x2!(false) |\n    for( @{x4} <- @{Unforgeable(0x591d98d76d87741fc9b8d1b9bdce8f8e51c7573c91c419b7210ca700cf7651e9)} ) {\n      @{Unforgeable(0x591d98d76d87741fc9b8d1b9bdce8f8e51c7573c91c419b7210ca700cf7651e9)}!((x4).set(x0,*x3))\n    } |\n    for( @{[x4, x5]}, @{x6} <= x3 ) {\n      for( @{x7} <- x2 ) {\n        match x7 {\n          true => @{x5}!((false, \"Already claimed wallet\")) |\n          x2!(x7) ;\n          false => new x8, x9, x10 in {\n            @{\"keccak256Hash\"}!(([x4, x5]).toByteArray(), *x10) |\n            for( @{x11} <- x10 ) {\n              @{\"secp256k1Verify\"}!(x11, (x6).hexToBytes(), ((\"04\" ++ x4)).hexToBytes(), *x8) |\n              for( @{x12} <- x8 ) {\n                match x12 {\n                  true => @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)}!(\"publicToAddr\", x4, *x9) |\n                  for( @{x13} <- x9 ) {\n                    match (x13 == ((x0).slice(2,(x0).length())).hexToBytes()) {\n                      true => new x14 in {\n                        x2!(true) |\n                        @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(x1, \"secp256k1\", (\"04\" ++ x4), *x14) |\n                        for( @{[x15]} <- x14 ) {\n                          @{x5}!((true, \"Success!\")) |\n                          for( @{x16} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n                            @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!((x16).set(x4,x15))\n                          }\n                        }\n                      } ;\n                      false => @{x5}!((false, \"Public key is not the preimage of hash\")) |\n                      x2!(x7)\n                    }\n                  } ;\n                  false => @{x5}!((false, \"Signature verification failed\")) |\n                  x2!(x7)\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n} |\nfor( @{\"access\"}, @{x0}, @{x1} <= @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)} ) {\n  for( @{x2} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n    @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!(x2) |\n    match (x2).get(x0) {\n      Nil => @{x1}!((false, \"Unknown wallet public key\")) ;\n      x3 => @{x1}!((true, x3))\n    }\n  }\n} |\nfor( @{\"claim\"}, @{x0}, @{x1}, @{x2}, @{x3} <= @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)} ) {\n  for( @{x4} <- @{Unforgeable(0x591d98d76d87741fc9b8d1b9bdce8f8e51c7573c91c419b7210ca700cf7651e9)} ) {\n    @{Unforgeable(0x591d98d76d87741fc9b8d1b9bdce8f8e51c7573c91c419b7210ca700cf7651e9)}!(x4) |\n    match (x4).get(x0) {\n      Nil => @{x3}!((false, \"Unknown Ethereum address\")) ;\n      x5 => @{x5}!([x1, x3], x2)\n    }\n  }\n} |\nfor( @{\"deposit\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)} ) {\n  new x3 in {\n    @{x1}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{bundle+ {   Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef) }}!(\"add\", x0, x2) ;\n        false => @{x2}!(false)\n      }\n    }\n  }\n} |\nfor( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x0}, @{x1} <= @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)} ) {\n  @{bundle+ {   Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef) }}!(\"sub\", x0, x1)\n} |\nfor( @{\"getBalance\"}, @{x0} <= @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)} ) {\n  @{bundle+ {   Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef) }}!(\"value\", x0)\n} |\nfor( @{\"sprout\"}, @{x0} <= @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)} ) {\n  @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x0)\n} |\nfor( @{\"split\"}, @{x0}, @{x1} <= @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)} ) {\n  new x2, x3 in {\n    @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)}!(\"sprout\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x4}!(\"deposit\", x0, Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a), *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          true => @{x1}!([x4]) ;\n          false => @{x1}!([])\n        }\n      }\n    }\n  }\n} |\nfor( @{\"value\"}, @{x0} <= @{Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5)} ) {\n  for( @{x1} <- @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!(x1)\n  }\n} |\nfor( @{\"sub\"}, @{x0}, @{x1} <= @{Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)} ) {\n      match (x0 <= x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!((x2 - x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"add\"}, @{x0}, @{x1} <= @{Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)} ) {\n      match ((x2 + x0) > x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!((x2 + x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"split\"}, @{x0}, @{x1} <= @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)} ) {\n  new x2, x3 in {\n    @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)}!(\"sprout\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x4}!(\"deposit\", x0, Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc), *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          true => @{x1}!([x4]) ;\n          false => @{x1}!([])\n        }\n      }\n    }\n  }\n} |\nfor( @{\"sprout\"}, @{x0} <= @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)} ) {\n  @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x0)\n} |\nfor( @{\"getBalance\"}, @{x0} <= @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)} ) {\n  @{bundle+ {   Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5) }}!(\"value\", x0)\n} |\nfor( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x0}, @{x1} <= @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)} ) {\n  @{bundle+ {   Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5) }}!(\"sub\", x0, x1)\n} |\nfor( @{\"deposit\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)} ) {\n  new x3 in {\n    @{x1}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{bundle+ {   Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5) }}!(\"add\", x0, x2) ;\n        false => @{x2}!(false)\n      }\n    }\n  }\n} |\nfor( @{[x0, x1]}, @{x2} <= @{Unforgeable(0x3b464a1de4a16393c7727f6da36777e5709f494f5b588c109446d4403366ed2a)} ) {\n  for( @{x3} <- @{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)} ) {\n    match x3 {\n      true => @{x1}!((false, \"Already claimed wallet\")) |\n      @{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)}!(x3) ;\n      false => new x4, x5, x6 in {\n        @{\"keccak256Hash\"}!(([x0, x1]).toByteArray(), *x6) |\n        for( @{x7} <- x6 ) {\n          @{\"secp256k1Verify\"}!(x7, (x2).hexToBytes(), ((\"04\" ++ x0)).hexToBytes(), *x4) |\n          for( @{x8} <- x4 ) {\n            match x8 {\n              true => @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)}!(\"publicToAddr\", x0, *x5) |\n              for( @{x9} <- x5 ) {\n                match (x9 == ((\"0x23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3\").slice(2,(\"0x23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3\").length())).hexToBytes()) {\n                  true => new x10 in {\n                    @{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)}!(true) |\n                    @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(bundle+ {   Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b) }, \"secp256k1\", (\"04\" ++ x0), *x10) |\n                    for( @{[x11]} <- x10 ) {\n                      @{x1}!((true, \"Success!\")) |\n                      for( @{x12} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n                        @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!((x12).set(x0,x11))\n                      }\n                    }\n                  } ;\n                  false => @{x1}!((false, \"Public key is not the preimage of hash\")) |\n                  @{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)}!(x3)\n                }\n              } ;\n              false => @{x1}!((false, \"Signature verification failed\")) |\n              @{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)}!(x3)\n            }\n          }\n        }\n      }\n    }\n  }\n} |\nfor( @{\"sub\"}, @{x0}, @{x1} <= @{Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)} ) {\n      match (x0 <= x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!((x2 - x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"value\"}, @{x0} <= @{Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b)} ) {\n  for( @{x1} <- @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!(x1)\n  }\n} |\nfor( @{\"add\"}, @{x0}, @{x1} <= @{Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)} ) {\n      match ((x2 + x0) > x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!((x2 + x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3} <= @{Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce)} ) {\n  new x4 in {\n    for( @{x5} <- x4 ) {\n      match x5 {\n        [] => @{x3}!([]) ;\n        [x6] => new x7, x8, x9 in {\n          x9!(-1) |\n          @{x3}!([bundle+ {   *x7 }]) |\n          for( @{x10}, @{x11}, @{x12}, @{x13}, @{x14} <= x8 ) {\n            for( @{x15} <- x9 ) {\n              match (x10 == (x15 + 1)) {\n                true => new x16, x17 in {\n                  @{\"blake2b256Hash\"}!(([x10, x11, x12]).toByteArray(), *x17) |\n                  for( @{x18} <- x17 ) {\n                    @{x6}!(x18, (x13).hexToBytes(), (x2).hexToBytes(), *x16) |\n                    for( @{x19} <- x16 ) {\n                      match x19 {\n                        true => @{x14}!(true) |\n                        x9!(x10) ;\n                        false => @{x14}!(false) |\n                        x9!(x15)\n                      }\n                    }\n                  }\n                } ;\n                false => @{x14}!(false) |\n                x9!(x15)\n              }\n            }\n          } |\n          for( @{\"deposit\"}, @{x10}, @{x11}, @{x12} <= x7 ) {\n            @{x0}!(\"deposit\", x10, x11, x12)\n          } |\n          for( @{\"getBalance\"}, @{x10} <= x7 ) {\n            @{x0}!(\"getBalance\", x10)\n          } |\n          for( @{\"getNonce\"}, @{x10} <= x7 ) {\n            for( @{x11} <- x9 ) {\n              @{x10}!(x11) |\n              x9!(x11)\n            }\n          } |\n          for( @{\"transfer\"}, @{x10}, @{x11}, @{x12}, @{x13}, @{x14} <= x7 ) {\n            new x15 in {\n              x8!(x11, x10, x13, x12, *x15) |\n              for( @{x16} <- x15 ) {\n                match x16 {\n                  true => new x17 in {\n                    @{x0}!(\"split\", x10, *x17) |\n                    for( @{x18} <- x17 ) {\n                      match x18 {\n                        [] => @{x14}!(\"Overdraft\") ;\n                        [x19] => @{x14}!(\"Success\") |\n                        @{x13}!(x19)\n                      }\n                    }\n                  } ;\n                  false => @{x14}!(\"Invalid signature or nonce\")\n                }\n              }\n            }\n          }\n        }\n      }\n    } |\n    match x1 {\n      \"ed25519\" => x4!([\"ed25519Verify\"]) ;\n      \"secp256k1\" => x4!([\"secp256k1Verify\"]) ;\n      _ => x4!([])\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0xdb65df4b2bdb89c23c0cbcdd248d5bed8a1c4a649d9a523dac6136609fd1ba29)} ) {\n  new x2 in {\n    @{x1}!(bundle+ {   *x2 }) |\n    for( @{\"deposit\"}, @{x3}, @{x4}, @{x5} <= x2 ) {\n      new x6 in {\n        @{x4}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x3, *x6) |\n        for( @{x7} <- x6 ) {\n          match x7 {\n            true => @{x0}!(\"add\", x3, x5) ;\n            false => @{x5}!(false)\n          }\n        }\n      }\n    } |\n    for( @{\"getBalance\"}, @{x3} <= x2 ) {\n      @{x0}!(\"value\", x3)\n    } |\n    for( @{\"split\"}, @{x3}, @{x4} <= x2 ) {\n      new x5, x6 in {\n        x2!(\"sprout\", *x5) |\n        for( @{x7} <- x5 ) {\n          @{x7}!(\"deposit\", x3, *x2, *x6) |\n          for( @{x8} <- x6 ) {\n            match x8 {\n              true => @{x4}!([x7]) ;\n              false => @{x4}!([])\n            }\n          }\n        }\n      }\n    } |\n    for( @{\"sprout\"}, @{x3} <= x2 ) {\n      @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x3)\n    } |\n    for( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x3}, @{x4} <= x2 ) {\n      @{x0}!(\"sub\", x3, x4)\n    }\n  }\n} |\nfor( @{\"sub\"}, @{x0}, @{x1} <= @{Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)} ) {\n      match (x0 <= x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!((x2 - x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"add\"}, @{x0}, @{x1} <= @{Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)} ) {\n      match ((x2 + x0) > x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!((x2 + x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"value\"}, @{x0} <= @{Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef)} ) {\n  for( @{x1} <- @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!(x1)\n  }\n} |\nfor( @{\"map\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd)} ) {\n  match x0 {\n    (\"Right\", x3) => new x4 in {\n      @{x1}!(x3, *x4) |\n      for( @{x5} <- x4 ) {\n        @{x2}!((\"Right\", x5))\n      }\n    } ;\n    (\"Left\", _) => @{x2}!(x0)\n  }\n} |\nfor( @{\"compose\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd)} ) {\n  new x3 in {\n    @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"fold\", x1, (\"Right\", x0), *x3, x2) |\n    for( @{x4}, @{x5}, @{x6} <= x3 ) {\n      @{Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd)}!(\"flatMap\", x5, x4, x6)\n    }\n  }\n} |\nfor( @{\"flatMap\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd)} ) {\n  match x0 {\n    (\"Right\", x3) => @{x1}!(x3, x2) ;\n    (\"Left\", _) => @{x2}!(x0)\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3}, @{x4} <= @{Unforgeable(0x8893dc03670ac506ba3005e3509f9591e03120664d02a3960ae821c2714eee7b)} ) {\n  new x5, x6, x7, x8, x9, x10, x11, x12 in {\n    x12!((Nil, Nil, Nil, Nil)) |\n    x6!(x3) |\n    @{x4}!(bundle+ {   *x5 }) |\n    x7!!(x1) |\n    for( @{x13}, @{x14}, @{x15} <= x11 ) {\n      new x16, x17, x18, x19, x20, x21 in {\n        @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"range\", 1, (x13 + 1), *x16) |\n        for( @{x22} <- x16 ) {\n          @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"map\", x22, *x17, *x18) |\n          for( @{x23} <- x18 ) {\n            @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"fold\", x23, 0, *x19, *x21) |\n            for( @{x24} <- x21 ) {\n              @{x15}!(([(((x23).nth(0) + x14) - x24)] ++ (x23).slice(1,x13)))\n            }\n          }\n        } |\n        for( @{x22}, @{x23}, @{x24} <= x19 ) {\n          @{x24}!((x22 + x23))\n        } |\n        for( @{x22}, @{x23} <= x17 ) {\n          @{x23}!((2 * x14) * ((x13 + 1) - x22) / (x13 * (x13 + 1)))\n        }\n      }\n    } |\n    for( @{x13}, @{x14}, @{x15}, @{x16}, @{x17} <= x10 ) {\n      new x18, x19, x20 in {\n        for( @{x21} <- x7 ; @{x22} <- x6 ) {\n          x11!((x22).size(), x21, *x18) |\n          for( @{x23} <- x18 ) {\n            x19!(x22, x23, {}, *x20) |\n            for( @{x24} <- x20 ) {\n              @{x17}!((true, \"Bond successful!\")) |\n              x6!((x24).set(x13,((x15 - x21), x14, x16, ((x22).size() + 1))))\n            }\n          }\n        } |\n        for( @{x21}, @{x22}, @{x23}, @{x24} <= x19 ) {\n          match x21 {\n            {x26 : (x27, x28, x29, x30)...x25} => x19!(x25, x22, (x23).set(x26,((x27 + (x22).nth((x30 - 1))), x28, x29, x30)), x24) ;\n            _ => @{x24}!(x23)\n          }\n        }\n      }\n    } |\n    for( @{x13}, @{x14}, @{x15} <= x9 ) {\n      new x16 in {\n        @{x0}!(\"deposit\", x14, x13, *x16) |\n        for( @{x17} <- x16 ) {\n          match x17 {\n            true => @{x15}!((\"Right\", x13)) ;\n            false => @{x15}!((\"Left\", \"Deposit failed.\"))\n          }\n        }\n      }\n    } |\n    for( @{x13}, @{x14} <= x8 ) {\n      new x15, x16 in {\n        @{x13}!(\"getBalance\", *x15) |\n        for( @{x17} <- x15 ) {\n          @{x13}!(\"split\", x17, *x16) |\n          for( @{x18} <- x16 ) {\n            match x18 {\n              [] => @{x14}!((\"Left\", \"Could not extract funds from given purse\")) ;\n              [x19] => @{x14}!((\"Right\", (x19, x17)))\n            }\n          }\n        }\n      }\n    } |\n    for( @{\"bond\"}, @{x13}, @{x14}, @{x15}, @{x16}, @{x17} <= x5 ) {\n      new x18, x19, x20, x21, x22, x23 in {\n        x8!(x15, *x19) |\n        for( @{x24}, @{x25} <- x23 ) {\n          x5!(\"validateBondingRate\", x24, x25)\n        } |\n        for( @{x24}, @{x25} <- x22 ) {\n          x5!(\"validateBondAmount\", x24, x25)\n        } |\n        for( @{x24}, @{x25} <- x20 ) {\n          new x26 in {\n            x5!(\"isBonded\", x13, *x26) |\n            for( @{x27} <- x26 ) {\n              match x27 {\n                true => @{x25}!((\"Left\", (\"Public key ${pk} already bonded.\" %% {\"pk\" : x13}))) ;\n                false => @{x25}!((\"Right\", x24))\n              }\n            }\n          }\n        } |\n        for( @{x24} <- x19 ) {\n          match x24 {\n            (\"Right\", (x25, x26)) => @{bundle+ {   Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd) }}!(\"compose\", x25, [*x22, *x23, *x20, *x21], *x18) |\n            for( @{_}, @{x27} <- x21 ) {\n              x9!(x25, x26, x27)\n            } |\n            for( @{x27} <- x18 ) {\n              match x27 {\n                (\"Right\", _) => x10!(x13, x14, x26, x16, x17) ;\n                (\"Left\", x28) => @{x15}!(\"deposit\", x26, x25, *x18) |\n                for( @{_} <- x18 ) {\n                  @{x17}!((false, x28))\n                }\n              }\n            } ;\n            (\"Left\", x25) => @{x17}!((false, x25))\n          }\n        }\n      }\n    } |\n    for( @{\"distribute\"}, @{x13} <= x5 ) {\n      Nil\n    } |\n    for( @{\"getBonds\"}, @{x13} <= x5 ) {\n      for( @{x14} <- x6 ) {\n        @{x13}!(x14) |\n        x6!(x14)\n      }\n    } |\n    for( @{\"isBonded\"}, @{x13}, @{x14} <= x5 ) {\n      for( @{x15} <- x6 ) {\n        @{x14}!((x15).contains(x13)) |\n        x6!(x15)\n      }\n    } |\n    for( @{\"lastPayment\"}, @{x13} <= x5 ) {\n      for( @{x14} <- x12 ) {\n        @{x13}!(x14) |\n        x12!(x14)\n      }\n    } |\n    for( @{\"pay\"}, @{x13}, @{x14} <= x5 ) {\n      new x15, x16, x17 in {\n        x17!(*x16) |\n        x8!(x13, *x15) |\n        for( @{x18}, @{x19}, @{x20}, @{x21} <- x16 ; @{x22} <- x15 ) {\n          match x22 {\n            (\"Right\", (x23, x24)) => @{x14}!((x19 * x24)) |\n            x5!(\"distribute\", x23) |\n            for( @{_} <- x12 ) {\n              x12!((x18, x20, x21, (x19 * x24)))\n            } ;\n            (\"Left\", x23) => @{x14}!(0) |\n            for( @{_} <- x12 ) {\n              x12!((x18, x20, x21, 0))\n            }\n          }\n        }\n      }\n    } |\n    for( @{\"validateBondAmount\"}, @{x13}, @{x14} <= x5 ) {\n      new x15 in {\n        @{x13}!(\"getBalance\", *x15) |\n        for( @{x16} <- x15 ; @{x17} <- x7 ) {\n          match ((x16 - x17) < x1) {\n            true => @{x14}!((\"Left\", \"Bond less than minimum!\")) ;\n            false => match ((x16 - x17) > x2) {\n              true => @{x14}!((\"Left\", \"Bond greater than maximum!\")) ;\n              false => @{x14}!((\"Right\", x13))\n            }\n          }\n        }\n      }\n    } |\n    for( @{\"validateBondingRate\"}, @{x13}, @{x14} <= x5 ) {\n      @{x14}!((\"Right\", x13))\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x03)} ) {\n  Nil\n} |\nfor( @{\"value\"}, @{x0} <= @{Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9)} ) {\n  for( @{x1} <- @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!(x1)\n  }\n} |\nfor( @{\"add\"}, @{x0}, @{x1} <= @{Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)} ) {\n      match ((x2 + x0) > x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!((x2 + x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"sub\"}, @{x0}, @{x1} <= @{Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)} ) {\n      match (x0 <= x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!((x2 - x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{x0}, @{x1}, @{x2} <= @{Unforgeable(0xa7707889825294dea71e6facf956618ad37d2292cf58d312d1dd2a77d9c83018)} ) {\n  new x3 in {\n    @{bundle+ {   Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe) }}!(\"deposit\", x1, x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{x2}!((\"Right\", x0)) ;\n        false => @{x2}!((\"Left\", \"Deposit failed.\"))\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3} <= @{\"secp256k1Verify\"} ) {\n  Nil\n} |\nfor( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x0}, @{x1} <= @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)} ) {\n  @{bundle+ {   Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9) }}!(\"sub\", x0, x1)\n} |\nfor( @{\"split\"}, @{x0}, @{x1} <= @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)} ) {\n  new x2, x3 in {\n    @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)}!(\"sprout\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x4}!(\"deposit\", x0, Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b), *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          true => @{x1}!([x4]) ;\n          false => @{x1}!([])\n        }\n      }\n    }\n  }\n} |\nfor( @{\"getBalance\"}, @{x0} <= @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)} ) {\n  @{bundle+ {   Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9) }}!(\"value\", x0)\n} |\nfor( @{\"sprout\"}, @{x0} <= @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)} ) {\n  @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x0)\n} |\nfor( @{\"deposit\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)} ) {\n  new x3 in {\n    @{x1}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{bundle+ {   Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9) }}!(\"add\", x0, x2) ;\n        false => @{x2}!(false)\n      }\n    }\n  }\n} |\nfor( @{\"makePurse\"}, @{x0} <= @{Unforgeable(0x02745bdb79d7b1ffbd71945e8acd8c272306eff7f394bf26597a46592850d560)} ) {\n  @{bundle+ {   Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5) }}!(\"makePurse\", 0, x0)\n} |\nfor( @{\"deposit\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)} ) {\n  new x3 in {\n    @{x1}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{bundle+ {   Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a) }}!(\"add\", x0, x2) ;\n        false => @{x2}!(false)\n      }\n    }\n  }\n} |\nfor( @{\"getBalance\"}, @{x0} <= @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)} ) {\n  @{bundle+ {   Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a) }}!(\"value\", x0)\n} |\nfor( @{\"split\"}, @{x0}, @{x1} <= @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)} ) {\n  new x2, x3 in {\n    @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)}!(\"sprout\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x4}!(\"deposit\", x0, Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a), *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          true => @{x1}!([x4]) ;\n          false => @{x1}!([])\n        }\n      }\n    }\n  }\n} |\nfor( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x0}, @{x1} <= @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)} ) {\n  @{bundle+ {   Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a) }}!(\"sub\", x0, x1)\n} |\nfor( @{\"sprout\"}, @{x0} <= @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)} ) {\n  @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x0)\n} |\nfor( @{[x0, x1]}, @{x2} <= @{Unforgeable(0x5ed46b2e95f74519902d86ec097db20297764501de1f597b8cac5927895f4edd)} ) {\n  for( @{x3} <- @{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)} ) {\n    match x3 {\n      true => @{x1}!((false, \"Already claimed wallet\")) |\n      @{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)}!(x3) ;\n      false => new x4, x5, x6 in {\n        @{\"keccak256Hash\"}!(([x0, x1]).toByteArray(), *x6) |\n        for( @{x7} <- x6 ) {\n          @{\"secp256k1Verify\"}!(x7, (x2).hexToBytes(), ((\"04\" ++ x0)).hexToBytes(), *x4) |\n          for( @{x8} <- x4 ) {\n            match x8 {\n              true => @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)}!(\"publicToAddr\", x0, *x5) |\n              for( @{x9} <- x5 ) {\n                match (x9 == ((\"0x1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97\").slice(2,(\"0x1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97\").length())).hexToBytes()) {\n                  true => new x10 in {\n                    @{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)}!(true) |\n                    @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(bundle+ {   Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc) }, \"secp256k1\", (\"04\" ++ x0), *x10) |\n                    for( @{[x11]} <- x10 ) {\n                      @{x1}!((true, \"Success!\")) |\n                      for( @{x12} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n                        @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!((x12).set(x0,x11))\n                      }\n                    }\n                  } ;\n                  false => @{x1}!((false, \"Public key is not the preimage of hash\")) |\n                  @{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)}!(x3)\n                }\n              } ;\n              false => @{x1}!((false, \"Signature verification failed\")) |\n              @{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)}!(x3)\n            }\n          }\n        }\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x3b88933c23a6b2129868bf36bff0f3b512b0d43b32803052dc632f4720ccc214)} ) {\n  new x2 in {\n    @{x1}!(bundle+ {   *x2 }) |\n    for( @{x3}, @{x4}, @{x5}, @{x6} <= x2 ) {\n      new x7 in {\n        @{x0}!(\"makePurse\", x3, *x7) |\n        for( @{x8} <- x7 ) {\n          @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(x8, x4, x5, x6)\n        }\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3} <= @{Unforgeable(0x0b)} ) {\n  Nil\n} |\nfor( @{[x0, x1]}, @{x2} <= @{Unforgeable(0xf1906377eb117d8eb0866b0c54afae052c90175d89c2c9aaba085969352de7e2)} ) {\n  for( @{x3} <- @{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)} ) {\n    match x3 {\n      true => @{x1}!((false, \"Already claimed wallet\")) |\n      @{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)}!(x3) ;\n      false => new x4, x5, x6 in {\n        @{\"keccak256Hash\"}!(([x0, x1]).toByteArray(), *x6) |\n        for( @{x7} <- x6 ) {\n          @{\"secp256k1Verify\"}!(x7, (x2).hexToBytes(), ((\"04\" ++ x0)).hexToBytes(), *x4) |\n          for( @{x8} <- x4 ) {\n            match x8 {\n              true => @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)}!(\"publicToAddr\", x0, *x5) |\n              for( @{x9} <- x5 ) {\n                match (x9 == ((\"0x043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e\").slice(2,(\"0x043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e\").length())).hexToBytes()) {\n                  true => new x10 in {\n                    @{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)}!(true) |\n                    @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(bundle+ {   Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a) }, \"secp256k1\", (\"04\" ++ x0), *x10) |\n                    for( @{[x11]} <- x10 ) {\n                      @{x1}!((true, \"Success!\")) |\n                      for( @{x12} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n                        @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!((x12).set(x0,x11))\n                      }\n                    }\n                  } ;\n                  false => @{x1}!((false, \"Public key is not the preimage of hash\")) |\n                  @{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)}!(x3)\n                }\n              } ;\n              false => @{x1}!((false, \"Signature verification failed\")) |\n              @{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)}!(x3)\n            }\n          }\n        }\n      }\n    }\n  }\n} |\nfor( @{[x0, x1]}, @{x2} <= @{Unforgeable(0x59595360327692e8ea348d8cb0a11b1588b675816a49af31674c9867a6ba0caa)} ) {\n  for( @{x3} <- @{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)} ) {\n    match x3 {\n      true => @{x1}!((false, \"Already claimed wallet\")) |\n      @{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)}!(x3) ;\n      false => new x4, x5, x6 in {\n        @{\"keccak256Hash\"}!(([x0, x1]).toByteArray(), *x6) |\n        for( @{x7} <- x6 ) {\n          @{\"secp256k1Verify\"}!(x7, (x2).hexToBytes(), ((\"04\" ++ x0)).hexToBytes(), *x4) |\n          for( @{x8} <- x4 ) {\n            match x8 {\n              true => @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)}!(\"publicToAddr\", x0, *x5) |\n              for( @{x9} <- x5 ) {\n                match (x9 == ((\"0x02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821\").slice(2,(\"0x02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821\").length())).hexToBytes()) {\n                  true => new x10 in {\n                    @{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)}!(true) |\n                    @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(bundle+ {   Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a) }, \"secp256k1\", (\"04\" ++ x0), *x10) |\n                    for( @{[x11]} <- x10 ) {\n                      @{x1}!((true, \"Success!\")) |\n                      for( @{x12} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n                        @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!((x12).set(x0,x11))\n                      }\n                    }\n                  } ;\n                  false => @{x1}!((false, \"Public key is not the preimage of hash\")) |\n                  @{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)}!(x3)\n                }\n              } ;\n              false => @{x1}!((false, \"Signature verification failed\")) |\n              @{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)}!(x3)\n            }\n          }\n        }\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x289e512cb46e7491c54d8e42c5f997c2a85be7e1222dcf9810ac24bf960748e0)} ) {\n  new x2, x3 in {\n    @{x1}!(bundle+ {   *x2 }) |\n    for( @{\"add\"}, @{x4}, @{x5} <= x2 ) {\n      match (x4 >= 0) {\n        true => for( @{x6} <- x3 ) {\n          match ((x6 + x4) > x6) {\n            true => @{x5}!(true) |\n            x3!((x6 + x4)) ;\n            false => @{x5}!(false) |\n            x3!(x6)\n          }\n        } ;\n        false => @{x5}!(false)\n      }\n    } |\n    for( @{\"sub\"}, @{x4}, @{x5} <= x2 ) {\n      match (x4 >= 0) {\n        true => for( @{x6} <- x3 ) {\n          match (x4 <= x6) {\n            true => @{x5}!(true) |\n            x3!((x6 - x4)) ;\n            false => @{x5}!(false) |\n            x3!(x6)\n          }\n        } ;\n        false => @{x5}!(false)\n      }\n    } |\n    for( @{\"value\"}, @{x4} <= x2 ) {\n      for( @{x5} <- x3 ) {\n        @{x4}!(x5) |\n        x3!(x5)\n      }\n    } |\n    match x0 {\n      Int => match (x0 >= 0) {\n        true => x3!(x0) ;\n        false => x3!(0)\n      } ;\n      _ => x3!(0)\n    }\n  }\n} |\nfor( @{\"validateBondAmount\"}, @{x0}, @{x1} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  new x2 in {\n    @{x0}!(\"getBalance\", *x2) |\n    for( @{x3} <- x2 ; @{x4} <- @{Unforgeable(0x059b9866df5308ec4ae6e8799bc0fcc79e81222555c16833180beca29f57405d)} ) {\n      match ((x3 - x4) < 1) {\n        true => @{x1}!((\"Left\", \"Bond less than minimum!\")) ;\n        false => match ((x3 - x4) > 9223372036854775807) {\n          true => @{x1}!((\"Left\", \"Bond greater than maximum!\")) ;\n          false => @{x1}!((\"Right\", x0))\n        }\n      }\n    }\n  }\n} |\nfor( @{\"isBonded\"}, @{x0}, @{x1} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  for( @{x2} <- @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)} ) {\n    @{x1}!((x2).contains(x0)) |\n    @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)}!(x2)\n  }\n} |\nfor( @{\"validateBondingRate\"}, @{x0}, @{x1} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  @{x1}!((\"Right\", x0))\n} |\nfor( @{\"getBonds\"}, @{x0} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  for( @{x1} <- @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)}!(x1)\n  }\n} |\nfor( @{\"pay\"}, @{x0}, @{x1} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  new x2, x3, x4 in {\n    x4!(*x3) |\n    @{Unforgeable(0x5b83453d29bb3722ba2e45391fdd9408a64ee7865d3f2a63335d2c1334679470)}!(x0, *x2) |\n    for( @{x5}, @{x6}, @{x7}, @{x8} <- x3 ; @{x9} <- x2 ) {\n      match x9 {\n        (\"Right\", (x10, x11)) => @{x1}!((x6 * x11)) |\n        @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)}!(\"distribute\", x10) |\n        for( @{_} <- @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)} ) {\n          @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)}!((x5, x7, x8, (x6 * x11)))\n        } ;\n        (\"Left\", x10) => @{x1}!(0) |\n        for( @{_} <- @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)} ) {\n          @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)}!((x5, x7, x8, 0))\n        }\n      }\n    }\n  }\n} |\nfor( @{\"lastPayment\"}, @{x0} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  for( @{x1} <- @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)}!(x1)\n  }\n} |\nfor( @{\"bond\"}, @{x0}, @{x1}, @{x2}, @{x3}, @{x4} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  new x5, x6, x7, x8, x9, x10 in {\n    @{Unforgeable(0x5b83453d29bb3722ba2e45391fdd9408a64ee7865d3f2a63335d2c1334679470)}!(x2, *x6) |\n    for( @{x11}, @{x12} <- x10 ) {\n      @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)}!(\"validateBondingRate\", x11, x12)\n    } |\n    for( @{x11}, @{x12} <- x9 ) {\n      @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)}!(\"validateBondAmount\", x11, x12)\n    } |\n    for( @{x11}, @{x12} <- x7 ) {\n      new x13 in {\n        @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)}!(\"isBonded\", x0, *x13) |\n        for( @{x14} <- x13 ) {\n          match x14 {\n            true => @{x12}!((\"Left\", (\"Public key ${pk} already bonded.\" %% {\"pk\" : x0}))) ;\n            false => @{x12}!((\"Right\", x11))\n          }\n        }\n      }\n    } |\n    for( @{x11} <- x6 ) {\n      match x11 {\n        (\"Right\", (x12, x13)) => @{bundle+ {   Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd) }}!(\"compose\", x12, [*x9, *x10, *x7, *x8], *x5) |\n        for( @{_}, @{x14} <- x8 ) {\n          @{Unforgeable(0xa7707889825294dea71e6facf956618ad37d2292cf58d312d1dd2a77d9c83018)}!(x12, x13, x14)\n        } |\n        for( @{x14} <- x5 ) {\n          match x14 {\n            (\"Right\", _) => @{Unforgeable(0xb9a5addc47c459f22ab562af180ae6bc10799956f2c9d1b1dc531feb2d8c8a18)}!(x0, x1, x13, x3, x4) ;\n            (\"Left\", x15) => @{x2}!(\"deposit\", x13, x12, *x5) |\n            for( @{_} <- x5 ) {\n              @{x4}!((false, x15))\n            }\n          }\n        } ;\n        (\"Left\", x12) => @{x4}!((false, x12))\n      }\n    }\n  }\n} |\nfor( @{\"distribute\"}, @{x0} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  Nil\n} |\nfor( @{x0} <= @{Unforgeable(0x02)} ) {\n  Nil\n} |\nfor( @{\"makePurse\"}, @{x0}, @{x1} <= @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)} ) {\n  new x2 in {\n    @{bundle+ {   Unforgeable(0x289e512cb46e7491c54d8e42c5f997c2a85be7e1222dcf9810ac24bf960748e0) }}!(x0, *x2) |\n    for( @{x3} <- x2 ) {\n      @{Unforgeable(0xdb65df4b2bdb89c23c0cbcdd248d5bed8a1c4a649d9a523dac6136609fd1ba29)}!(x3, x1)\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x09)} ) {\n  Nil\n} |\nfor( @{x0} <= @{Unforgeable(0xdf2886c69e880d611d9c609d5ea51a59e43a684f3a587b233be034dace00d092)} ) {\n  new x1, x2, x3 in {\n    @{x0}!(bundle+ {   *x1 }) |\n    for( @{x4}, @{x5} <= x2 ) {\n      new x6 in {\n        @{x5}!(bundle+ {   *x6 }) |\n        for( @{\"deposit\"}, @{x7}, @{x8}, @{x9} <= x6 ) {\n          new x10 in {\n            @{x8}!(*x3, x7, *x10) |\n            for( @{x11} <- x10 ) {\n              match x11 {\n                true => @{x4}!(\"add\", x7, x9) ;\n                false => @{x9}!(false)\n              }\n            }\n          }\n        } |\n        for( @{\"getBalance\"}, @{x7} <= x6 ) {\n          @{x4}!(\"value\", x7)\n        } |\n        for( @{\"split\"}, @{x7}, @{x8} <= x6 ) {\n          new x9, x10 in {\n            x6!(\"sprout\", *x9) |\n            for( @{x11} <- x9 ) {\n              @{x11}!(\"deposit\", x7, *x6, *x10) |\n              for( @{x12} <- x10 ) {\n                match x12 {\n                  true => @{x8}!([x11]) ;\n                  false => @{x8}!([])\n                }\n              }\n            }\n          }\n        } |\n        for( @{\"sprout\"}, @{x7} <= x6 ) {\n          x1!(\"makePurse\", 0, x7)\n        } |\n        for( @{=x10}, @{x7}, @{x8} <= x6 ) {\n          @{x4}!(\"sub\", x7, x8)\n        }\n      }\n    } |\n    for( @{\"makePurse\"}, @{x4}, @{x5} <= x1 ) {\n      new x6 in {\n        @{bundle+ {   Unforgeable(0x289e512cb46e7491c54d8e42c5f997c2a85be7e1222dcf9810ac24bf960748e0) }}!(x4, *x6) |\n        for( @{x7} <- x6 ) {\n          x2!(x7, x5)\n        }\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{\"sha256Hash\"} ) {\n  Nil\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x01)} ) {\n  Nil\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x5b83453d29bb3722ba2e45391fdd9408a64ee7865d3f2a63335d2c1334679470)} ) {\n  new x2, x3 in {\n    @{x0}!(\"getBalance\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x0}!(\"split\", x4, *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          [] => @{x1}!((\"Left\", \"Could not extract funds from given purse\")) ;\n          [x6] => @{x1}!((\"Right\", (x6, x4)))\n        }\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x0a)} ) {\n  Nil\n} |\nfor( @{\"sub\"}, @{x0}, @{x1} <= @{Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)} ) {\n      match (x0 <= x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!((x2 - x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"add\"}, @{x0}, @{x1} <= @{Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)} ) {\n      match ((x2 + x0) > x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!((x2 + x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"value\"}, @{x0} <= @{Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a)} ) {\n  for( @{x1} <- @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!(x1)\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3}, @{x4} <= @{Unforgeable(0xb9a5addc47c459f22ab562af180ae6bc10799956f2c9d1b1dc531feb2d8c8a18)} ) {\n  new x5, x6, x7 in {\n    for( @{x8} <- @{Unforgeable(0x059b9866df5308ec4ae6e8799bc0fcc79e81222555c16833180beca29f57405d)} ; @{x9} <- @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)} ) {\n      @{Unforgeable(0x39bdf789fb12e1c3487abce560193e3a9545d2d7e311aca70f6f47d36ba5115a)}!((x9).size(), x8, *x5) |\n      for( @{x10} <- x5 ) {\n        x6!(x9, x10, {}, *x7) |\n        for( @{x11} <- x7 ) {\n          @{x4}!((true, \"Bond successful!\")) |\n          @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)}!((x11).set(x0,((x2 - x8), x1, x3, ((x9).size() + 1))))\n        }\n      }\n    } |\n    for( @{x8}, @{x9}, @{x10}, @{x11} <= x6 ) {\n      match x8 {\n        {x13 : (x14, x15, x16, x17)...x12} => x6!(x12, x9, (x10).set(x13,((x14 + (x9).nth((x17 - 1))), x15, x16, x17)), x11) ;\n        _ => @{x11}!(x10)\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x39bdf789fb12e1c3487abce560193e3a9545d2d7e311aca70f6f47d36ba5115a)} ) {\n  new x3, x4, x5, x6, x7, x8 in {\n    @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"range\", 1, (x0 + 1), *x3) |\n    for( @{x9} <- x3 ) {\n      @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"map\", x9, *x4, *x5) |\n      for( @{x10} <- x5 ) {\n        @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"fold\", x10, 0, *x6, *x8) |\n        for( @{x11} <- x8 ) {\n          @{x2}!(([(((x10).nth(0) + x1) - x11)] ++ (x10).slice(1,x0)))\n        }\n      }\n    } |\n    for( @{x9}, @{x10}, @{x11} <= x6 ) {\n      @{x11}!((x9 + x10))\n    } |\n    for( @{x9}, @{x10} <= x4 ) {\n      @{x10}!((2 * x1) * ((x0 + 1) - x9) / (x0 * (x0 + 1)))\n    }\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3} <= @{\"ed25519Verify\"} ) {\n  Nil\n} |\nfor( @{x0}, @{x1} <= @{\"keccak256Hash\"} ) {\n  Nil\n}"
  timestamp: 1
  faultTolerance: 0.14893617
  mainParentHash: ""
  sender: ""
  shardId: "rchain"
  bondsValidatorList: "02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821: 43"
  bondsValidatorList: "043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e: 15"
  bondsValidatorList: "1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97: 2"
  bondsValidatorList: "23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3: 81"
}

'''

    output = parse_show_block_output(input)

    assert output['blockHash'] == '"fd219ca26e55e671168fc907490a04a1a89651693544fabf4e6b74478ec2b337"'
    assert output['blockSize'] == '"115078"'
    assert output['blockNumber'] == '0'
    assert output['version'] == '1'
    assert output['deployCount'] == '10'
    assert output['tupleSpaceHash'] == '"fc138f97493733c5cde8b8d4284326023e6ce07e6e858cdfe83fa70bcb5e9550"'
    assert output['tupleSpaceDump'] == r'"@{Unforgeable(0xad98595d7c7c9141e8ab2b849ecdb19be0ab5bcfcf9f49815988164e4139008d)}!(bundle+ {   Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726) }) |\n@{Unforgeable(0xa50a17f94a9bf43206517f07ddcd76e64e8350533ad0b6715b0e559eac10b8dd)}!(`rho:id:dputnspi15oxxnyymjrpu7rkaok3bjkiwq84z7cqcrx4ktqfpyapn4`) |\n@{Unforgeable(0x059b9866df5308ec4ae6e8799bc0fcc79e81222555c16833180beca29f57405d)}!!(1) |\n@{Unforgeable(0xa4fd447dedfc960485983ee817632cf36d79f45fd1796019edfb4a84a81d1697)}!({10 : (0, fbabc50f5621bc513c4ff68cc19155f1d88074a83a89c7820123baf0d5f913, (9223372036854775807, bundle+ {   Unforgeable(0x289e512cb46e7491c54d8e42c5f997c2a85be7e1222dcf9810ac24bf960748e0) })), 13 : (0, a27eed28c68843e727c82de34ef60a026f2bb0ecf84a8a3e1f54bf74e7f334, (9223372036854775807, bundle+ {   Unforgeable(0x8893dc03670ac506ba3005e3509f9591e03120664d02a3960ae821c2714eee7b) })), 1b : (0, 671159b596e0f788005a48d9f48ac41590a555a38fabf58e611fa545c56830, (9223372036854775807, bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) })), 26 : (0, 5a5a7280b94d91641c608749daeab5c92911230aad5bdf48705c2a1b74d7d4, (9223372036854775807, bundle+ {   Unforgeable(0x3b88933c23a6b2129868bf36bff0f3b512b0d43b32803052dc632f4720ccc214) })), 43 : (0, e62055355e1aaedf593642127bf8a3877de9402413f76b2934f23e6fdd2bec, (9223372036854775807, bundle+ {   Unforgeable(0xdf2886c69e880d611d9c609d5ea51a59e43a684f3a587b233be034dace00d092) })), 4f : (0, a24c702f0326b4128d26dc06a3a9d643d43b87c4d01a5b1f10bc7a975d35a9, (9223372036854775807, bundle+ {   Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd) })), 83 : (0, 917d77625bdff54595b303c6da47a0962a457e41af587199228774294bb11b, (9223372036854775807, bundle+ {   Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2) })), a0 : (0, e8ccf8baabf1e7e18c56463435669a26bede689b2e68f18e6fbbd928733a60, (9223372036854775807, bundle+ {   Unforgeable(0xeaf4d685675c199b2a2cceef521dacaaa711cd70c7d082c20d154507e5c58407) })), c8 : (0, 2ac7ce3b7c5fb8896212238ee19181740b232fc08d4d629789d87851cb18cc, (9223372036854775807, bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }))}) |\n@{Unforgeable(0x8377903891186fef0f202b5ca147b5ffefa3eb9c04404b57a57d4c348c94820b)}!(`rho:id:3yicxut5xtx5tnmnneta7actof4yse3xangw4awzt8c8owqmddgyms`) |\n@{Unforgeable(0xedda499ae3c26adb2b4acb5126330082d906501e880413de333c831bd0b81b63)}!(`rho:id:r3pfwhwyzfg3n3yhcndwuszkszr11rjdbksizz4eqbqnwg5w49kfo7`) |\n@{Unforgeable(0x5170b7b0c9cc4a8ab9f00c5d20b02eacede4857d7f2847f1bb03c00b84a21b9e)}!(`rho:id:nd74ztexkao5awjhj95e3octkza7tydwiy7euthnyrt5ihgi9rj495`) |\n@{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)}!(false) |\n@{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)}!(false) |\n@{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!(72) |\n@{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)}!((Nil, Nil, Nil, Nil)) |\n@{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!(42) |\n@{Unforgeable(0x591d98d76d87741fc9b8d1b9bdce8f8e51c7573c91c419b7210ca700cf7651e9)}!({\"0x02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821\" : Unforgeable(0x59595360327692e8ea348d8cb0a11b1588b675816a49af31674c9867a6ba0caa), \"0x043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e\" : Unforgeable(0xf1906377eb117d8eb0866b0c54afae052c90175d89c2c9aaba085969352de7e2), \"0x1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97\" : Unforgeable(0x5ed46b2e95f74519902d86ec097db20297764501de1f597b8cac5927895f4edd), \"0x23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3\" : Unforgeable(0x3b464a1de4a16393c7727f6da36777e5709f494f5b588c109446d4403366ed2a)}) |\n@{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!({}) |\n@{Unforgeable(0x7b0c7c28647acec15d4a09e21917aaeac161f23e67137331c1e90544c6b5176b)}!(`rho:id:oqez475nmxx9ktciscbhps18wnmnwtm6egziohc3rkdzekkmsrpuyt`) |\n@{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!(82) |\n@{Unforgeable(0xafcdd41733c03728e620ed8b0f68d0ebdcc6c2eddf7ab604d24e987e63747d33)}!(`rho:id:exunyijimapk7z43g3bbr69awqdz54kyroj9q43jgu3dh567fxsftx`) |\n@{Unforgeable(0x4b3d5423c5cd69c686bff8b8213df4b51f14db5508e55257350d801b1ee54d20)}!(`rho:id:wdwc36f4ixa6xacck3ddepmgueum7zueuczgthcqp6771kdu8jogm8`) |\n@{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)}!({02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821 : (43, \"secp256k1Verify\", Nil, 1), 043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e : (15, \"secp256k1Verify\", Nil, 2), 1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97 : (2, \"secp256k1Verify\", Nil, 3), 23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3 : (81, \"secp256k1Verify\", Nil, 4)}) |\n@{Unforgeable(0x6867894b9697f1d8f5b78c666c8ac292699254cf90e1fb83ecdf91700c03bec5)}!(Nil) |\n@{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)}!(false) |\n@{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!(8) |\n@{Unforgeable(0x7b8c542e32d26e3d7607115470d1fc5bf499fab0c927b95a9ce3574d3544b78d)}!(bundle+ {   Unforgeable(0x02745bdb79d7b1ffbd71945e8acd8c272306eff7f394bf26597a46592850d560) }) |\n@{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!(141) |\n@{Unforgeable(0xafaff50bd6e61f413e638c2836a96b0f2092cbe830cc63fe904fb78569a1354f)}!(`rho:id:nqt875jea4rr83383ys6guzsbebg6k7o7uhrint6d7km67886c4y4s`) |\n@{Unforgeable(0xdec88e61b39eb95a76d6f63d74856d90e978063294776a8d806b0afc95313538)}!(`rho:id:j6trahbxycumerwpr5qype7j43b7eqh8auebwsa9nn68if47gswh73`) |\n@{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)}!(false) |\nfor( @{\"deposit\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)} ) {\n  new x3 in {\n    @{x1}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{bundle+ {   Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b) }}!(\"add\", x0, x2) ;\n        false => @{x2}!(false)\n      }\n    }\n  }\n} |\nfor( @{\"split\"}, @{x0}, @{x1} <= @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)} ) {\n  new x2, x3 in {\n    @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)}!(\"sprout\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x4}!(\"deposit\", x0, Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe), *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          true => @{x1}!([x4]) ;\n          false => @{x1}!([])\n        }\n      }\n    }\n  }\n} |\nfor( @{\"getBalance\"}, @{x0} <= @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)} ) {\n  @{bundle+ {   Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b) }}!(\"value\", x0)\n} |\nfor( @{\"sprout\"}, @{x0} <= @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)} ) {\n  @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x0)\n} |\nfor( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x0}, @{x1} <= @{Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe)} ) {\n  @{bundle+ {   Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b) }}!(\"sub\", x0, x1)\n} |\nfor( @{x0} <= @{Unforgeable(0x0c)} ) {\n  Nil\n} |\nfor( @{\"foreach\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3, x4 in {\n    @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"fold\", x0, Nil, *x3, *x4) |\n    for( @{_} <- x4 ) {\n      @{x2}!(true)\n    } |\n    for( @{x5}, @{x6}, @{x7} <= x3 ) {\n      new x8 in {\n        @{x1}!(x5, *x8) |\n        for( @{_} <- x8 ) {\n          @{x7}!(Nil)\n        }\n      }\n    }\n  }\n} |\nfor( @{\"append\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  @{x2}!((x0 ++ [x1]))\n} |\nfor( @{\"zip\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3 in {\n    x3!((x0, x1), [], x2) |\n    for( @{x4}, @{x5}, @{x6} <= x3 ) {\n      match x4 {\n        ([x8...x7], [x10...x9]) => x3!((x7, x9), (x5 ++ [(x8, x10)]), x6) ;\n        _ => @{x6}!(x5)\n      }\n    }\n  }\n} |\nfor( @{\"fold\"}, @{x0}, @{x1}, @{x2}, @{x3} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x4 in {\n    for( @{x5}, @{x6}, @{x7} <= x4 ) {\n      new x8 in {\n        @{x2}!(x5, x6, *x8) |\n        for( @{x9} <- x8 ) {\n          @{x7}!(false, x9)\n        }\n      }\n    } |\n    new x5 in {\n      @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"partialFold\", x0, x1, *x4, *x5) |\n      for( @{_}, @{x6} <- x5 ) {\n        @{x3}!(x6)\n      }\n    }\n  }\n} |\nfor( @{\"indexOf\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3 in {\n    for( @{x4}, @{x5}, @{x6} <= x3 ) {\n      @{x6}!((x4 == x1), (x5 + 1))\n    } |\n    new x4 in {\n      @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"partialFold\", x0, -1, *x3, *x4) |\n      for( @{x5}, @{x6} <- x4 ) {\n        match x5 {\n          true => @{x2}!(x6) ;\n          false => @{x2}!(-1)\n        }\n      }\n    }\n  }\n} |\nfor( @{\"parMap\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3, x4, x5 in {\n    @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"map\", x0, *x4, *x3) |\n    for( @{x6} <- x3 ) {\n      @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"map\", x6, *x5, x2)\n    } |\n    for( @{x6}, @{x7} <= x5 ) {\n      for( @{x8} <- @{x6} ) {\n        @{x7}!(x8)\n      }\n    } |\n    for( @{x6}, @{x7} <= x4 ) {\n      new x8 in {\n        @{x7}!(*x8) |\n        @{x1}!(x6, *x8)\n      }\n    }\n  }\n} |\nfor( @{\"unorderedParMap\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3, x4, x5, x6, x7 in {\n    for( @{x8} <= x4 ) {\n      for( @{x9} <- x7 ; @{x10} <- x6 ; @{x11} <- x5 ) {\n        x5!(x11) |\n        match (x11 == (x10 + 1)) {\n          true => @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"prepend\", x8, x9, x2) ;\n          false => x6!((x10 + 1)) |\n          @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"prepend\", x8, x9, *x7)\n        }\n      }\n    } |\n    for( @{x8}, @{x9} <= x3 ) {\n      match x8 {\n        [x11...x10] => new x12 in {\n          x3!(x10, (x9 + 1)) |\n          @{x1}!(x11, *x12) |\n          for( @{x13} <- x12 ) {\n            x4!(x13)\n          }\n        } ;\n        _ => x5!(x9)\n      }\n    } |\n    match x0 {\n      [] => @{x2}!([]) ;\n      _ => x7!([]) |\n      x6!(0) |\n      x3!(x0, 0)\n    }\n  }\n} |\nfor( @{\"map\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3 in {\n    @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"fold\", x0, [], *x3, x2) |\n    for( @{x4}, @{x5}, @{x6} <= x3 ) {\n      new x7 in {\n        @{x1}!(x4, *x7) |\n        for( @{x8} <- x7 ) {\n          @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"append\", x5, x8, x6)\n        }\n      }\n    }\n  }\n} |\nfor( @{\"reverse\"}, @{x0}, @{x1} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x2 in {\n    @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"fold\", x0, [], *x2, x1) |\n    for( @{x3}, @{x4}, @{x5} <= x2 ) {\n      @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)}!(\"prepend\", x3, x4, x5)\n    }\n  }\n} |\nfor( @{\"prepend\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  @{x2}!(([x0] ++ x1))\n} |\nfor( @{\"range\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x3 in {\n    x3!((x1 - 1), []) |\n    for( @{x4}, @{x5} <= x3 ) {\n      match (x4 < x0) {\n        true => @{x2}!(x5) ;\n        false => x3!((x4 - 1), ([x4] ++ x5))\n      }\n    }\n  }\n} |\nfor( @{\"partialFold\"}, @{x0}, @{x1}, @{x2}, @{x3} <= @{Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406)} ) {\n  new x4 in {\n    x4!(x1, x0) |\n    for( @{x5}, @{x6} <= x4 ) {\n      match x6 {\n        [x8...x7] => new x9 in {\n          @{x2}!(x8, x5, *x9) |\n          for( @{x10}, @{x11} <- x9 ) {\n            match x10 {\n              true => @{x3}!(x10, x11) ;\n              false => x4!(x11, x7)\n            }\n          }\n        } ;\n        _ => @{x3}!(false, x5)\n      }\n    }\n  }\n} |\nfor( @{\"lookup\"}, @{x0}, @{x1} <= @{Unforgeable(0xeaf4d685675c199b2a2cceef521dacaaa711cd70c7d082c20d154507e5c58407)} ) {\n  match x0 {\n    \"faucet\" => for( @{x2} <- @{Unforgeable(0x6867894b9697f1d8f5b78c666c8ac292699254cf90e1fb83ecdf91700c03bec5)} ) {\n      @{x1}!(x2) |\n      @{Unforgeable(0x6867894b9697f1d8f5b78c666c8ac292699254cf90e1fb83ecdf91700c03bec5)}!(x2)\n    } ;\n    \"pos\" => for( @{x2} <- @{Unforgeable(0xad98595d7c7c9141e8ab2b849ecdb19be0ab5bcfcf9f49815988164e4139008d)} ) {\n      @{x1}!(x2) |\n      @{Unforgeable(0xad98595d7c7c9141e8ab2b849ecdb19be0ab5bcfcf9f49815988164e4139008d)}!(x2)\n    } ;\n    \"rev\" => for( @{x2} <- @{Unforgeable(0x7b8c542e32d26e3d7607115470d1fc5bf499fab0c927b95a9ce3574d3544b78d)} ) {\n      @{x1}!(x2) |\n      @{Unforgeable(0x7b8c542e32d26e3d7607115470d1fc5bf499fab0c927b95a9ce3574d3544b78d)}!(x2)\n    } ;\n    _ => @{x1}!(Nil)\n  }\n} |\nfor( @{x0} <= @{Unforgeable(0x0d)} ) {\n  Nil\n} |\nfor( @{x0}, @{x1} <= @{\"blake2b256Hash\"} ) {\n  Nil\n} |\nfor( @{x0} <= @{Unforgeable(0x00)} ) {\n  Nil\n} |\nfor( @{\"publicToAddr\"}, @{x0}, @{x1} <= @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)} ) {\n  new x2 in {\n    @{\"keccak256Hash\"}!((x0).hexToBytes(), *x2) |\n    for( @{x3} <- x2 ) {\n      @{x1}!((x3).slice(12,32))\n    }\n  }\n} |\nfor( @{\"create\"}, @{x0}, @{x1} <= @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)} ) {\n  new x2, x3 in {\n    x2!(false) |\n    for( @{x4} <- @{Unforgeable(0x591d98d76d87741fc9b8d1b9bdce8f8e51c7573c91c419b7210ca700cf7651e9)} ) {\n      @{Unforgeable(0x591d98d76d87741fc9b8d1b9bdce8f8e51c7573c91c419b7210ca700cf7651e9)}!((x4).set(x0,*x3))\n    } |\n    for( @{[x4, x5]}, @{x6} <= x3 ) {\n      for( @{x7} <- x2 ) {\n        match x7 {\n          true => @{x5}!((false, \"Already claimed wallet\")) |\n          x2!(x7) ;\n          false => new x8, x9, x10 in {\n            @{\"keccak256Hash\"}!(([x4, x5]).toByteArray(), *x10) |\n            for( @{x11} <- x10 ) {\n              @{\"secp256k1Verify\"}!(x11, (x6).hexToBytes(), ((\"04\" ++ x4)).hexToBytes(), *x8) |\n              for( @{x12} <- x8 ) {\n                match x12 {\n                  true => @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)}!(\"publicToAddr\", x4, *x9) |\n                  for( @{x13} <- x9 ) {\n                    match (x13 == ((x0).slice(2,(x0).length())).hexToBytes()) {\n                      true => new x14 in {\n                        x2!(true) |\n                        @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(x1, \"secp256k1\", (\"04\" ++ x4), *x14) |\n                        for( @{[x15]} <- x14 ) {\n                          @{x5}!((true, \"Success!\")) |\n                          for( @{x16} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n                            @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!((x16).set(x4,x15))\n                          }\n                        }\n                      } ;\n                      false => @{x5}!((false, \"Public key is not the preimage of hash\")) |\n                      x2!(x7)\n                    }\n                  } ;\n                  false => @{x5}!((false, \"Signature verification failed\")) |\n                  x2!(x7)\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n} |\nfor( @{\"access\"}, @{x0}, @{x1} <= @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)} ) {\n  for( @{x2} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n    @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!(x2) |\n    match (x2).get(x0) {\n      Nil => @{x1}!((false, \"Unknown wallet public key\")) ;\n      x3 => @{x1}!((true, x3))\n    }\n  }\n} |\nfor( @{\"claim\"}, @{x0}, @{x1}, @{x2}, @{x3} <= @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)} ) {\n  for( @{x4} <- @{Unforgeable(0x591d98d76d87741fc9b8d1b9bdce8f8e51c7573c91c419b7210ca700cf7651e9)} ) {\n    @{Unforgeable(0x591d98d76d87741fc9b8d1b9bdce8f8e51c7573c91c419b7210ca700cf7651e9)}!(x4) |\n    match (x4).get(x0) {\n      Nil => @{x3}!((false, \"Unknown Ethereum address\")) ;\n      x5 => @{x5}!([x1, x3], x2)\n    }\n  }\n} |\nfor( @{\"deposit\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)} ) {\n  new x3 in {\n    @{x1}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{bundle+ {   Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef) }}!(\"add\", x0, x2) ;\n        false => @{x2}!(false)\n      }\n    }\n  }\n} |\nfor( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x0}, @{x1} <= @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)} ) {\n  @{bundle+ {   Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef) }}!(\"sub\", x0, x1)\n} |\nfor( @{\"getBalance\"}, @{x0} <= @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)} ) {\n  @{bundle+ {   Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef) }}!(\"value\", x0)\n} |\nfor( @{\"sprout\"}, @{x0} <= @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)} ) {\n  @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x0)\n} |\nfor( @{\"split\"}, @{x0}, @{x1} <= @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)} ) {\n  new x2, x3 in {\n    @{Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a)}!(\"sprout\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x4}!(\"deposit\", x0, Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a), *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          true => @{x1}!([x4]) ;\n          false => @{x1}!([])\n        }\n      }\n    }\n  }\n} |\nfor( @{\"value\"}, @{x0} <= @{Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5)} ) {\n  for( @{x1} <- @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!(x1)\n  }\n} |\nfor( @{\"sub\"}, @{x0}, @{x1} <= @{Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)} ) {\n      match (x0 <= x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!((x2 - x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"add\"}, @{x0}, @{x1} <= @{Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)} ) {\n      match ((x2 + x0) > x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!((x2 + x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x1c7f668eab5e5d1f5d8c71f9660a01dc17b2e2915a2901abe7805ce3534c29cf)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"split\"}, @{x0}, @{x1} <= @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)} ) {\n  new x2, x3 in {\n    @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)}!(\"sprout\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x4}!(\"deposit\", x0, Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc), *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          true => @{x1}!([x4]) ;\n          false => @{x1}!([])\n        }\n      }\n    }\n  }\n} |\nfor( @{\"sprout\"}, @{x0} <= @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)} ) {\n  @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x0)\n} |\nfor( @{\"getBalance\"}, @{x0} <= @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)} ) {\n  @{bundle+ {   Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5) }}!(\"value\", x0)\n} |\nfor( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x0}, @{x1} <= @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)} ) {\n  @{bundle+ {   Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5) }}!(\"sub\", x0, x1)\n} |\nfor( @{\"deposit\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc)} ) {\n  new x3 in {\n    @{x1}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{bundle+ {   Unforgeable(0x3585f1152ad019d615809e67400773c44f9ed234424d1f462a650f25de6492b5) }}!(\"add\", x0, x2) ;\n        false => @{x2}!(false)\n      }\n    }\n  }\n} |\nfor( @{[x0, x1]}, @{x2} <= @{Unforgeable(0x3b464a1de4a16393c7727f6da36777e5709f494f5b588c109446d4403366ed2a)} ) {\n  for( @{x3} <- @{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)} ) {\n    match x3 {\n      true => @{x1}!((false, \"Already claimed wallet\")) |\n      @{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)}!(x3) ;\n      false => new x4, x5, x6 in {\n        @{\"keccak256Hash\"}!(([x0, x1]).toByteArray(), *x6) |\n        for( @{x7} <- x6 ) {\n          @{\"secp256k1Verify\"}!(x7, (x2).hexToBytes(), ((\"04\" ++ x0)).hexToBytes(), *x4) |\n          for( @{x8} <- x4 ) {\n            match x8 {\n              true => @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)}!(\"publicToAddr\", x0, *x5) |\n              for( @{x9} <- x5 ) {\n                match (x9 == ((\"0x23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3\").slice(2,(\"0x23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3\").length())).hexToBytes()) {\n                  true => new x10 in {\n                    @{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)}!(true) |\n                    @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(bundle+ {   Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b) }, \"secp256k1\", (\"04\" ++ x0), *x10) |\n                    for( @{[x11]} <- x10 ) {\n                      @{x1}!((true, \"Success!\")) |\n                      for( @{x12} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n                        @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!((x12).set(x0,x11))\n                      }\n                    }\n                  } ;\n                  false => @{x1}!((false, \"Public key is not the preimage of hash\")) |\n                  @{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)}!(x3)\n                }\n              } ;\n              false => @{x1}!((false, \"Signature verification failed\")) |\n              @{Unforgeable(0x171cb59ef5fb3b52a1f921ba02acd6e3f730cb6abac0b0b1e491940c88b7d818)}!(x3)\n            }\n          }\n        }\n      }\n    }\n  }\n} |\nfor( @{\"sub\"}, @{x0}, @{x1} <= @{Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)} ) {\n      match (x0 <= x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!((x2 - x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"value\"}, @{x0} <= @{Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b)} ) {\n  for( @{x1} <- @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!(x1)\n  }\n} |\nfor( @{\"add\"}, @{x0}, @{x1} <= @{Unforgeable(0xdd42bca7e921c4cd70dc87537da6114dded398d84e937d4bc44a734b817ebe3b)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)} ) {\n      match ((x2 + x0) > x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!((x2 + x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0xfad1de407be4b190cf8b4e68cff6913ee6cdfc09db38e55edd59a68da9a82a6b)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3} <= @{Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce)} ) {\n  new x4 in {\n    for( @{x5} <- x4 ) {\n      match x5 {\n        [] => @{x3}!([]) ;\n        [x6] => new x7, x8, x9 in {\n          x9!(-1) |\n          @{x3}!([bundle+ {   *x7 }]) |\n          for( @{x10}, @{x11}, @{x12}, @{x13}, @{x14} <= x8 ) {\n            for( @{x15} <- x9 ) {\n              match (x10 == (x15 + 1)) {\n                true => new x16, x17 in {\n                  @{\"blake2b256Hash\"}!(([x10, x11, x12]).toByteArray(), *x17) |\n                  for( @{x18} <- x17 ) {\n                    @{x6}!(x18, (x13).hexToBytes(), (x2).hexToBytes(), *x16) |\n                    for( @{x19} <- x16 ) {\n                      match x19 {\n                        true => @{x14}!(true) |\n                        x9!(x10) ;\n                        false => @{x14}!(false) |\n                        x9!(x15)\n                      }\n                    }\n                  }\n                } ;\n                false => @{x14}!(false) |\n                x9!(x15)\n              }\n            }\n          } |\n          for( @{\"deposit\"}, @{x10}, @{x11}, @{x12} <= x7 ) {\n            @{x0}!(\"deposit\", x10, x11, x12)\n          } |\n          for( @{\"getBalance\"}, @{x10} <= x7 ) {\n            @{x0}!(\"getBalance\", x10)\n          } |\n          for( @{\"getNonce\"}, @{x10} <= x7 ) {\n            for( @{x11} <- x9 ) {\n              @{x10}!(x11) |\n              x9!(x11)\n            }\n          } |\n          for( @{\"transfer\"}, @{x10}, @{x11}, @{x12}, @{x13}, @{x14} <= x7 ) {\n            new x15 in {\n              x8!(x11, x10, x13, x12, *x15) |\n              for( @{x16} <- x15 ) {\n                match x16 {\n                  true => new x17 in {\n                    @{x0}!(\"split\", x10, *x17) |\n                    for( @{x18} <- x17 ) {\n                      match x18 {\n                        [] => @{x14}!(\"Overdraft\") ;\n                        [x19] => @{x14}!(\"Success\") |\n                        @{x13}!(x19)\n                      }\n                    }\n                  } ;\n                  false => @{x14}!(\"Invalid signature or nonce\")\n                }\n              }\n            }\n          }\n        }\n      }\n    } |\n    match x1 {\n      \"ed25519\" => x4!([\"ed25519Verify\"]) ;\n      \"secp256k1\" => x4!([\"secp256k1Verify\"]) ;\n      _ => x4!([])\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0xdb65df4b2bdb89c23c0cbcdd248d5bed8a1c4a649d9a523dac6136609fd1ba29)} ) {\n  new x2 in {\n    @{x1}!(bundle+ {   *x2 }) |\n    for( @{\"deposit\"}, @{x3}, @{x4}, @{x5} <= x2 ) {\n      new x6 in {\n        @{x4}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x3, *x6) |\n        for( @{x7} <- x6 ) {\n          match x7 {\n            true => @{x0}!(\"add\", x3, x5) ;\n            false => @{x5}!(false)\n          }\n        }\n      }\n    } |\n    for( @{\"getBalance\"}, @{x3} <= x2 ) {\n      @{x0}!(\"value\", x3)\n    } |\n    for( @{\"split\"}, @{x3}, @{x4} <= x2 ) {\n      new x5, x6 in {\n        x2!(\"sprout\", *x5) |\n        for( @{x7} <- x5 ) {\n          @{x7}!(\"deposit\", x3, *x2, *x6) |\n          for( @{x8} <- x6 ) {\n            match x8 {\n              true => @{x4}!([x7]) ;\n              false => @{x4}!([])\n            }\n          }\n        }\n      }\n    } |\n    for( @{\"sprout\"}, @{x3} <= x2 ) {\n      @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x3)\n    } |\n    for( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x3}, @{x4} <= x2 ) {\n      @{x0}!(\"sub\", x3, x4)\n    }\n  }\n} |\nfor( @{\"sub\"}, @{x0}, @{x1} <= @{Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)} ) {\n      match (x0 <= x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!((x2 - x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"add\"}, @{x0}, @{x1} <= @{Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)} ) {\n      match ((x2 + x0) > x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!((x2 + x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"value\"}, @{x0} <= @{Unforgeable(0x0830460f28c4c75e8a4310817497956a3267f7c91f1696fe76f87192cb202fef)} ) {\n  for( @{x1} <- @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0x4c0df8bbd74dad01219041d332e20c35858bfd1652a2961f0920042b267d0dd0)}!(x1)\n  }\n} |\nfor( @{\"map\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd)} ) {\n  match x0 {\n    (\"Right\", x3) => new x4 in {\n      @{x1}!(x3, *x4) |\n      for( @{x5} <- x4 ) {\n        @{x2}!((\"Right\", x5))\n      }\n    } ;\n    (\"Left\", _) => @{x2}!(x0)\n  }\n} |\nfor( @{\"compose\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd)} ) {\n  new x3 in {\n    @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"fold\", x1, (\"Right\", x0), *x3, x2) |\n    for( @{x4}, @{x5}, @{x6} <= x3 ) {\n      @{Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd)}!(\"flatMap\", x5, x4, x6)\n    }\n  }\n} |\nfor( @{\"flatMap\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd)} ) {\n  match x0 {\n    (\"Right\", x3) => @{x1}!(x3, x2) ;\n    (\"Left\", _) => @{x2}!(x0)\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3}, @{x4} <= @{Unforgeable(0x8893dc03670ac506ba3005e3509f9591e03120664d02a3960ae821c2714eee7b)} ) {\n  new x5, x6, x7, x8, x9, x10, x11, x12 in {\n    x12!((Nil, Nil, Nil, Nil)) |\n    x6!(x3) |\n    @{x4}!(bundle+ {   *x5 }) |\n    x7!!(x1) |\n    for( @{x13}, @{x14}, @{x15} <= x11 ) {\n      new x16, x17, x18, x19, x20, x21 in {\n        @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"range\", 1, (x13 + 1), *x16) |\n        for( @{x22} <- x16 ) {\n          @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"map\", x22, *x17, *x18) |\n          for( @{x23} <- x18 ) {\n            @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"fold\", x23, 0, *x19, *x21) |\n            for( @{x24} <- x21 ) {\n              @{x15}!(([(((x23).nth(0) + x14) - x24)] ++ (x23).slice(1,x13)))\n            }\n          }\n        } |\n        for( @{x22}, @{x23}, @{x24} <= x19 ) {\n          @{x24}!((x22 + x23))\n        } |\n        for( @{x22}, @{x23} <= x17 ) {\n          @{x23}!((2 * x14) * ((x13 + 1) - x22) / (x13 * (x13 + 1)))\n        }\n      }\n    } |\n    for( @{x13}, @{x14}, @{x15}, @{x16}, @{x17} <= x10 ) {\n      new x18, x19, x20 in {\n        for( @{x21} <- x7 ; @{x22} <- x6 ) {\n          x11!((x22).size(), x21, *x18) |\n          for( @{x23} <- x18 ) {\n            x19!(x22, x23, {}, *x20) |\n            for( @{x24} <- x20 ) {\n              @{x17}!((true, \"Bond successful!\")) |\n              x6!((x24).set(x13,((x15 - x21), x14, x16, ((x22).size() + 1))))\n            }\n          }\n        } |\n        for( @{x21}, @{x22}, @{x23}, @{x24} <= x19 ) {\n          match x21 {\n            {x26 : (x27, x28, x29, x30)...x25} => x19!(x25, x22, (x23).set(x26,((x27 + (x22).nth((x30 - 1))), x28, x29, x30)), x24) ;\n            _ => @{x24}!(x23)\n          }\n        }\n      }\n    } |\n    for( @{x13}, @{x14}, @{x15} <= x9 ) {\n      new x16 in {\n        @{x0}!(\"deposit\", x14, x13, *x16) |\n        for( @{x17} <- x16 ) {\n          match x17 {\n            true => @{x15}!((\"Right\", x13)) ;\n            false => @{x15}!((\"Left\", \"Deposit failed.\"))\n          }\n        }\n      }\n    } |\n    for( @{x13}, @{x14} <= x8 ) {\n      new x15, x16 in {\n        @{x13}!(\"getBalance\", *x15) |\n        for( @{x17} <- x15 ) {\n          @{x13}!(\"split\", x17, *x16) |\n          for( @{x18} <- x16 ) {\n            match x18 {\n              [] => @{x14}!((\"Left\", \"Could not extract funds from given purse\")) ;\n              [x19] => @{x14}!((\"Right\", (x19, x17)))\n            }\n          }\n        }\n      }\n    } |\n    for( @{\"bond\"}, @{x13}, @{x14}, @{x15}, @{x16}, @{x17} <= x5 ) {\n      new x18, x19, x20, x21, x22, x23 in {\n        x8!(x15, *x19) |\n        for( @{x24}, @{x25} <- x23 ) {\n          x5!(\"validateBondingRate\", x24, x25)\n        } |\n        for( @{x24}, @{x25} <- x22 ) {\n          x5!(\"validateBondAmount\", x24, x25)\n        } |\n        for( @{x24}, @{x25} <- x20 ) {\n          new x26 in {\n            x5!(\"isBonded\", x13, *x26) |\n            for( @{x27} <- x26 ) {\n              match x27 {\n                true => @{x25}!((\"Left\", (\"Public key ${pk} already bonded.\" %% {\"pk\" : x13}))) ;\n                false => @{x25}!((\"Right\", x24))\n              }\n            }\n          }\n        } |\n        for( @{x24} <- x19 ) {\n          match x24 {\n            (\"Right\", (x25, x26)) => @{bundle+ {   Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd) }}!(\"compose\", x25, [*x22, *x23, *x20, *x21], *x18) |\n            for( @{_}, @{x27} <- x21 ) {\n              x9!(x25, x26, x27)\n            } |\n            for( @{x27} <- x18 ) {\n              match x27 {\n                (\"Right\", _) => x10!(x13, x14, x26, x16, x17) ;\n                (\"Left\", x28) => @{x15}!(\"deposit\", x26, x25, *x18) |\n                for( @{_} <- x18 ) {\n                  @{x17}!((false, x28))\n                }\n              }\n            } ;\n            (\"Left\", x25) => @{x17}!((false, x25))\n          }\n        }\n      }\n    } |\n    for( @{\"distribute\"}, @{x13} <= x5 ) {\n      Nil\n    } |\n    for( @{\"getBonds\"}, @{x13} <= x5 ) {\n      for( @{x14} <- x6 ) {\n        @{x13}!(x14) |\n        x6!(x14)\n      }\n    } |\n    for( @{\"isBonded\"}, @{x13}, @{x14} <= x5 ) {\n      for( @{x15} <- x6 ) {\n        @{x14}!((x15).contains(x13)) |\n        x6!(x15)\n      }\n    } |\n    for( @{\"lastPayment\"}, @{x13} <= x5 ) {\n      for( @{x14} <- x12 ) {\n        @{x13}!(x14) |\n        x12!(x14)\n      }\n    } |\n    for( @{\"pay\"}, @{x13}, @{x14} <= x5 ) {\n      new x15, x16, x17 in {\n        x17!(*x16) |\n        x8!(x13, *x15) |\n        for( @{x18}, @{x19}, @{x20}, @{x21} <- x16 ; @{x22} <- x15 ) {\n          match x22 {\n            (\"Right\", (x23, x24)) => @{x14}!((x19 * x24)) |\n            x5!(\"distribute\", x23) |\n            for( @{_} <- x12 ) {\n              x12!((x18, x20, x21, (x19 * x24)))\n            } ;\n            (\"Left\", x23) => @{x14}!(0) |\n            for( @{_} <- x12 ) {\n              x12!((x18, x20, x21, 0))\n            }\n          }\n        }\n      }\n    } |\n    for( @{\"validateBondAmount\"}, @{x13}, @{x14} <= x5 ) {\n      new x15 in {\n        @{x13}!(\"getBalance\", *x15) |\n        for( @{x16} <- x15 ; @{x17} <- x7 ) {\n          match ((x16 - x17) < x1) {\n            true => @{x14}!((\"Left\", \"Bond less than minimum!\")) ;\n            false => match ((x16 - x17) > x2) {\n              true => @{x14}!((\"Left\", \"Bond greater than maximum!\")) ;\n              false => @{x14}!((\"Right\", x13))\n            }\n          }\n        }\n      }\n    } |\n    for( @{\"validateBondingRate\"}, @{x13}, @{x14} <= x5 ) {\n      @{x14}!((\"Right\", x13))\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x03)} ) {\n  Nil\n} |\nfor( @{\"value\"}, @{x0} <= @{Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9)} ) {\n  for( @{x1} <- @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!(x1)\n  }\n} |\nfor( @{\"add\"}, @{x0}, @{x1} <= @{Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)} ) {\n      match ((x2 + x0) > x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!((x2 + x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"sub\"}, @{x0}, @{x1} <= @{Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)} ) {\n      match (x0 <= x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!((x2 - x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0xcce600930c0a0933df1b7e971bef81cd07dafbcb225822fb99dd40e09426204e)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{x0}, @{x1}, @{x2} <= @{Unforgeable(0xa7707889825294dea71e6facf956618ad37d2292cf58d312d1dd2a77d9c83018)} ) {\n  new x3 in {\n    @{bundle+ {   Unforgeable(0x2f4ba2d6e594d453155862f7ab3d10ed3726bdb7c86962c4229d6754526f0bfe) }}!(\"deposit\", x1, x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{x2}!((\"Right\", x0)) ;\n        false => @{x2}!((\"Left\", \"Deposit failed.\"))\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3} <= @{\"secp256k1Verify\"} ) {\n  Nil\n} |\nfor( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x0}, @{x1} <= @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)} ) {\n  @{bundle+ {   Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9) }}!(\"sub\", x0, x1)\n} |\nfor( @{\"split\"}, @{x0}, @{x1} <= @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)} ) {\n  new x2, x3 in {\n    @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)}!(\"sprout\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x4}!(\"deposit\", x0, Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b), *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          true => @{x1}!([x4]) ;\n          false => @{x1}!([])\n        }\n      }\n    }\n  }\n} |\nfor( @{\"getBalance\"}, @{x0} <= @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)} ) {\n  @{bundle+ {   Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9) }}!(\"value\", x0)\n} |\nfor( @{\"sprout\"}, @{x0} <= @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)} ) {\n  @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x0)\n} |\nfor( @{\"deposit\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x2293d0169a7cd1c475ac522a89813a4b50f2cadd06aac24766482acc1cf5699b)} ) {\n  new x3 in {\n    @{x1}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{bundle+ {   Unforgeable(0x8c84867bb8c0fce53399b23dc725f8b39909aa4650f061dce3e3a5de32b65ab9) }}!(\"add\", x0, x2) ;\n        false => @{x2}!(false)\n      }\n    }\n  }\n} |\nfor( @{\"makePurse\"}, @{x0} <= @{Unforgeable(0x02745bdb79d7b1ffbd71945e8acd8c272306eff7f394bf26597a46592850d560)} ) {\n  @{bundle+ {   Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5) }}!(\"makePurse\", 0, x0)\n} |\nfor( @{\"deposit\"}, @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)} ) {\n  new x3 in {\n    @{x1}!(Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974), x0, *x3) |\n    for( @{x4} <- x3 ) {\n      match x4 {\n        true => @{bundle+ {   Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a) }}!(\"add\", x0, x2) ;\n        false => @{x2}!(false)\n      }\n    }\n  }\n} |\nfor( @{\"getBalance\"}, @{x0} <= @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)} ) {\n  @{bundle+ {   Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a) }}!(\"value\", x0)\n} |\nfor( @{\"split\"}, @{x0}, @{x1} <= @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)} ) {\n  new x2, x3 in {\n    @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)}!(\"sprout\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x4}!(\"deposit\", x0, Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a), *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          true => @{x1}!([x4]) ;\n          false => @{x1}!([])\n        }\n      }\n    }\n  }\n} |\nfor( @{Unforgeable(0x8bf568ec9f8de535f8c862ea225563ecf0adfbc3a6112f9d67500b4ed458b974)}, @{x0}, @{x1} <= @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)} ) {\n  @{bundle+ {   Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a) }}!(\"sub\", x0, x1)\n} |\nfor( @{\"sprout\"}, @{x0} <= @{Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a)} ) {\n  @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)}!(\"makePurse\", 0, x0)\n} |\nfor( @{[x0, x1]}, @{x2} <= @{Unforgeable(0x5ed46b2e95f74519902d86ec097db20297764501de1f597b8cac5927895f4edd)} ) {\n  for( @{x3} <- @{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)} ) {\n    match x3 {\n      true => @{x1}!((false, \"Already claimed wallet\")) |\n      @{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)}!(x3) ;\n      false => new x4, x5, x6 in {\n        @{\"keccak256Hash\"}!(([x0, x1]).toByteArray(), *x6) |\n        for( @{x7} <- x6 ) {\n          @{\"secp256k1Verify\"}!(x7, (x2).hexToBytes(), ((\"04\" ++ x0)).hexToBytes(), *x4) |\n          for( @{x8} <- x4 ) {\n            match x8 {\n              true => @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)}!(\"publicToAddr\", x0, *x5) |\n              for( @{x9} <- x5 ) {\n                match (x9 == ((\"0x1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97\").slice(2,(\"0x1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97\").length())).hexToBytes()) {\n                  true => new x10 in {\n                    @{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)}!(true) |\n                    @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(bundle+ {   Unforgeable(0x8fdb20c077587392b7323a6d38b50933e95ac530b47be2d4f3f3fcce5fc472bc) }, \"secp256k1\", (\"04\" ++ x0), *x10) |\n                    for( @{[x11]} <- x10 ) {\n                      @{x1}!((true, \"Success!\")) |\n                      for( @{x12} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n                        @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!((x12).set(x0,x11))\n                      }\n                    }\n                  } ;\n                  false => @{x1}!((false, \"Public key is not the preimage of hash\")) |\n                  @{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)}!(x3)\n                }\n              } ;\n              false => @{x1}!((false, \"Signature verification failed\")) |\n              @{Unforgeable(0x98fa7c15c277c4469301fce98826e55bee81a8848082816a09fa84b7f7dda1a3)}!(x3)\n            }\n          }\n        }\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x3b88933c23a6b2129868bf36bff0f3b512b0d43b32803052dc632f4720ccc214)} ) {\n  new x2 in {\n    @{x1}!(bundle+ {   *x2 }) |\n    for( @{x3}, @{x4}, @{x5}, @{x6} <= x2 ) {\n      new x7 in {\n        @{x0}!(\"makePurse\", x3, *x7) |\n        for( @{x8} <- x7 ) {\n          @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(x8, x4, x5, x6)\n        }\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3} <= @{Unforgeable(0x0b)} ) {\n  Nil\n} |\nfor( @{[x0, x1]}, @{x2} <= @{Unforgeable(0xf1906377eb117d8eb0866b0c54afae052c90175d89c2c9aaba085969352de7e2)} ) {\n  for( @{x3} <- @{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)} ) {\n    match x3 {\n      true => @{x1}!((false, \"Already claimed wallet\")) |\n      @{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)}!(x3) ;\n      false => new x4, x5, x6 in {\n        @{\"keccak256Hash\"}!(([x0, x1]).toByteArray(), *x6) |\n        for( @{x7} <- x6 ) {\n          @{\"secp256k1Verify\"}!(x7, (x2).hexToBytes(), ((\"04\" ++ x0)).hexToBytes(), *x4) |\n          for( @{x8} <- x4 ) {\n            match x8 {\n              true => @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)}!(\"publicToAddr\", x0, *x5) |\n              for( @{x9} <- x5 ) {\n                match (x9 == ((\"0x043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e\").slice(2,(\"0x043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e\").length())).hexToBytes()) {\n                  true => new x10 in {\n                    @{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)}!(true) |\n                    @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(bundle+ {   Unforgeable(0xbaa939991551eb7a3b610f199847935a41ca30ff3ce35153c08b1ebcd3758f7a) }, \"secp256k1\", (\"04\" ++ x0), *x10) |\n                    for( @{[x11]} <- x10 ) {\n                      @{x1}!((true, \"Success!\")) |\n                      for( @{x12} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n                        @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!((x12).set(x0,x11))\n                      }\n                    }\n                  } ;\n                  false => @{x1}!((false, \"Public key is not the preimage of hash\")) |\n                  @{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)}!(x3)\n                }\n              } ;\n              false => @{x1}!((false, \"Signature verification failed\")) |\n              @{Unforgeable(0x93dc9fb79e1f387a15fa808d3c119fb4fac59db558dad053143fcb1234cae786)}!(x3)\n            }\n          }\n        }\n      }\n    }\n  }\n} |\nfor( @{[x0, x1]}, @{x2} <= @{Unforgeable(0x59595360327692e8ea348d8cb0a11b1588b675816a49af31674c9867a6ba0caa)} ) {\n  for( @{x3} <- @{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)} ) {\n    match x3 {\n      true => @{x1}!((false, \"Already claimed wallet\")) |\n      @{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)}!(x3) ;\n      false => new x4, x5, x6 in {\n        @{\"keccak256Hash\"}!(([x0, x1]).toByteArray(), *x6) |\n        for( @{x7} <- x6 ) {\n          @{\"secp256k1Verify\"}!(x7, (x2).hexToBytes(), ((\"04\" ++ x0)).hexToBytes(), *x4) |\n          for( @{x8} <- x4 ) {\n            match x8 {\n              true => @{Unforgeable(0xd1c1a398c665521341cde512ebc6273fcd5af9db6cfa276b64b43718cad1d2b2)}!(\"publicToAddr\", x0, *x5) |\n              for( @{x9} <- x5 ) {\n                match (x9 == ((\"0x02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821\").slice(2,(\"0x02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821\").length())).hexToBytes()) {\n                  true => new x10 in {\n                    @{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)}!(true) |\n                    @{bundle+ {   Unforgeable(0xce1fd2fa486cdd055a7da9b60f4a403cd579ee78baeaa3e6a186ca72e6b24fce) }}!(bundle+ {   Unforgeable(0x0d1edcd3144872b8441968e82f0e1380e439882765240d11f381c33b0559283a) }, \"secp256k1\", (\"04\" ++ x0), *x10) |\n                    for( @{[x11]} <- x10 ) {\n                      @{x1}!((true, \"Success!\")) |\n                      for( @{x12} <- @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)} ) {\n                        @{Unforgeable(0x23ee1be030ff9b3a29a57fc1275f38d4009b63b7d3671d26b14f263d22bdd8b6)}!((x12).set(x0,x11))\n                      }\n                    }\n                  } ;\n                  false => @{x1}!((false, \"Public key is not the preimage of hash\")) |\n                  @{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)}!(x3)\n                }\n              } ;\n              false => @{x1}!((false, \"Signature verification failed\")) |\n              @{Unforgeable(0x1afff6d1c464c9898295b7ad554db44ac2eeec337f4a7af4f6339f5be1f0d1f6)}!(x3)\n            }\n          }\n        }\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x289e512cb46e7491c54d8e42c5f997c2a85be7e1222dcf9810ac24bf960748e0)} ) {\n  new x2, x3 in {\n    @{x1}!(bundle+ {   *x2 }) |\n    for( @{\"add\"}, @{x4}, @{x5} <= x2 ) {\n      match (x4 >= 0) {\n        true => for( @{x6} <- x3 ) {\n          match ((x6 + x4) > x6) {\n            true => @{x5}!(true) |\n            x3!((x6 + x4)) ;\n            false => @{x5}!(false) |\n            x3!(x6)\n          }\n        } ;\n        false => @{x5}!(false)\n      }\n    } |\n    for( @{\"sub\"}, @{x4}, @{x5} <= x2 ) {\n      match (x4 >= 0) {\n        true => for( @{x6} <- x3 ) {\n          match (x4 <= x6) {\n            true => @{x5}!(true) |\n            x3!((x6 - x4)) ;\n            false => @{x5}!(false) |\n            x3!(x6)\n          }\n        } ;\n        false => @{x5}!(false)\n      }\n    } |\n    for( @{\"value\"}, @{x4} <= x2 ) {\n      for( @{x5} <- x3 ) {\n        @{x4}!(x5) |\n        x3!(x5)\n      }\n    } |\n    match x0 {\n      Int => match (x0 >= 0) {\n        true => x3!(x0) ;\n        false => x3!(0)\n      } ;\n      _ => x3!(0)\n    }\n  }\n} |\nfor( @{\"validateBondAmount\"}, @{x0}, @{x1} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  new x2 in {\n    @{x0}!(\"getBalance\", *x2) |\n    for( @{x3} <- x2 ; @{x4} <- @{Unforgeable(0x059b9866df5308ec4ae6e8799bc0fcc79e81222555c16833180beca29f57405d)} ) {\n      match ((x3 - x4) < 1) {\n        true => @{x1}!((\"Left\", \"Bond less than minimum!\")) ;\n        false => match ((x3 - x4) > 9223372036854775807) {\n          true => @{x1}!((\"Left\", \"Bond greater than maximum!\")) ;\n          false => @{x1}!((\"Right\", x0))\n        }\n      }\n    }\n  }\n} |\nfor( @{\"isBonded\"}, @{x0}, @{x1} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  for( @{x2} <- @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)} ) {\n    @{x1}!((x2).contains(x0)) |\n    @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)}!(x2)\n  }\n} |\nfor( @{\"validateBondingRate\"}, @{x0}, @{x1} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  @{x1}!((\"Right\", x0))\n} |\nfor( @{\"getBonds\"}, @{x0} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  for( @{x1} <- @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)}!(x1)\n  }\n} |\nfor( @{\"pay\"}, @{x0}, @{x1} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  new x2, x3, x4 in {\n    x4!(*x3) |\n    @{Unforgeable(0x5b83453d29bb3722ba2e45391fdd9408a64ee7865d3f2a63335d2c1334679470)}!(x0, *x2) |\n    for( @{x5}, @{x6}, @{x7}, @{x8} <- x3 ; @{x9} <- x2 ) {\n      match x9 {\n        (\"Right\", (x10, x11)) => @{x1}!((x6 * x11)) |\n        @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)}!(\"distribute\", x10) |\n        for( @{_} <- @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)} ) {\n          @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)}!((x5, x7, x8, (x6 * x11)))\n        } ;\n        (\"Left\", x10) => @{x1}!(0) |\n        for( @{_} <- @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)} ) {\n          @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)}!((x5, x7, x8, 0))\n        }\n      }\n    }\n  }\n} |\nfor( @{\"lastPayment\"}, @{x0} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  for( @{x1} <- @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0x1c83090353216ef88df4400f3c7d6fe1ea22490de09fd85aafd534b1a6a09ba7)}!(x1)\n  }\n} |\nfor( @{\"bond\"}, @{x0}, @{x1}, @{x2}, @{x3}, @{x4} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  new x5, x6, x7, x8, x9, x10 in {\n    @{Unforgeable(0x5b83453d29bb3722ba2e45391fdd9408a64ee7865d3f2a63335d2c1334679470)}!(x2, *x6) |\n    for( @{x11}, @{x12} <- x10 ) {\n      @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)}!(\"validateBondingRate\", x11, x12)\n    } |\n    for( @{x11}, @{x12} <- x9 ) {\n      @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)}!(\"validateBondAmount\", x11, x12)\n    } |\n    for( @{x11}, @{x12} <- x7 ) {\n      new x13 in {\n        @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)}!(\"isBonded\", x0, *x13) |\n        for( @{x14} <- x13 ) {\n          match x14 {\n            true => @{x12}!((\"Left\", (\"Public key ${pk} already bonded.\" %% {\"pk\" : x0}))) ;\n            false => @{x12}!((\"Right\", x11))\n          }\n        }\n      }\n    } |\n    for( @{x11} <- x6 ) {\n      match x11 {\n        (\"Right\", (x12, x13)) => @{bundle+ {   Unforgeable(0x9521551b4a8ae2cf0ba83aaf6996652b81d6a83d70985bc6f16ac6eb35f2f2dd) }}!(\"compose\", x12, [*x9, *x10, *x7, *x8], *x5) |\n        for( @{_}, @{x14} <- x8 ) {\n          @{Unforgeable(0xa7707889825294dea71e6facf956618ad37d2292cf58d312d1dd2a77d9c83018)}!(x12, x13, x14)\n        } |\n        for( @{x14} <- x5 ) {\n          match x14 {\n            (\"Right\", _) => @{Unforgeable(0xb9a5addc47c459f22ab562af180ae6bc10799956f2c9d1b1dc531feb2d8c8a18)}!(x0, x1, x13, x3, x4) ;\n            (\"Left\", x15) => @{x2}!(\"deposit\", x13, x12, *x5) |\n            for( @{_} <- x5 ) {\n              @{x4}!((false, x15))\n            }\n          }\n        } ;\n        (\"Left\", x12) => @{x4}!((false, x12))\n      }\n    }\n  }\n} |\nfor( @{\"distribute\"}, @{x0} <= @{Unforgeable(0x10221ca9432d8e5d054b9944093fbe4cba9c2d63c93d48d1e5b28aa425dc5726)} ) {\n  Nil\n} |\nfor( @{x0} <= @{Unforgeable(0x02)} ) {\n  Nil\n} |\nfor( @{\"makePurse\"}, @{x0}, @{x1} <= @{Unforgeable(0xb45f9ed0f1d050fd7e8a94283fabd0c72eb26a456e719a0eb3a23e6e8541cbd5)} ) {\n  new x2 in {\n    @{bundle+ {   Unforgeable(0x289e512cb46e7491c54d8e42c5f997c2a85be7e1222dcf9810ac24bf960748e0) }}!(x0, *x2) |\n    for( @{x3} <- x2 ) {\n      @{Unforgeable(0xdb65df4b2bdb89c23c0cbcdd248d5bed8a1c4a649d9a523dac6136609fd1ba29)}!(x3, x1)\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x09)} ) {\n  Nil\n} |\nfor( @{x0} <= @{Unforgeable(0xdf2886c69e880d611d9c609d5ea51a59e43a684f3a587b233be034dace00d092)} ) {\n  new x1, x2, x3 in {\n    @{x0}!(bundle+ {   *x1 }) |\n    for( @{x4}, @{x5} <= x2 ) {\n      new x6 in {\n        @{x5}!(bundle+ {   *x6 }) |\n        for( @{\"deposit\"}, @{x7}, @{x8}, @{x9} <= x6 ) {\n          new x10 in {\n            @{x8}!(*x3, x7, *x10) |\n            for( @{x11} <- x10 ) {\n              match x11 {\n                true => @{x4}!(\"add\", x7, x9) ;\n                false => @{x9}!(false)\n              }\n            }\n          }\n        } |\n        for( @{\"getBalance\"}, @{x7} <= x6 ) {\n          @{x4}!(\"value\", x7)\n        } |\n        for( @{\"split\"}, @{x7}, @{x8} <= x6 ) {\n          new x9, x10 in {\n            x6!(\"sprout\", *x9) |\n            for( @{x11} <- x9 ) {\n              @{x11}!(\"deposit\", x7, *x6, *x10) |\n              for( @{x12} <- x10 ) {\n                match x12 {\n                  true => @{x8}!([x11]) ;\n                  false => @{x8}!([])\n                }\n              }\n            }\n          }\n        } |\n        for( @{\"sprout\"}, @{x7} <= x6 ) {\n          x1!(\"makePurse\", 0, x7)\n        } |\n        for( @{=x10}, @{x7}, @{x8} <= x6 ) {\n          @{x4}!(\"sub\", x7, x8)\n        }\n      }\n    } |\n    for( @{\"makePurse\"}, @{x4}, @{x5} <= x1 ) {\n      new x6 in {\n        @{bundle+ {   Unforgeable(0x289e512cb46e7491c54d8e42c5f997c2a85be7e1222dcf9810ac24bf960748e0) }}!(x4, *x6) |\n        for( @{x7} <- x6 ) {\n          x2!(x7, x5)\n        }\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{\"sha256Hash\"} ) {\n  Nil\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x01)} ) {\n  Nil\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x5b83453d29bb3722ba2e45391fdd9408a64ee7865d3f2a63335d2c1334679470)} ) {\n  new x2, x3 in {\n    @{x0}!(\"getBalance\", *x2) |\n    for( @{x4} <- x2 ) {\n      @{x0}!(\"split\", x4, *x3) |\n      for( @{x5} <- x3 ) {\n        match x5 {\n          [] => @{x1}!((\"Left\", \"Could not extract funds from given purse\")) ;\n          [x6] => @{x1}!((\"Right\", (x6, x4)))\n        }\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1} <= @{Unforgeable(0x0a)} ) {\n  Nil\n} |\nfor( @{\"sub\"}, @{x0}, @{x1} <= @{Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)} ) {\n      match (x0 <= x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!((x2 - x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"add\"}, @{x0}, @{x1} <= @{Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a)} ) {\n  match (x0 >= 0) {\n    true => for( @{x2} <- @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)} ) {\n      match ((x2 + x0) > x2) {\n        true => @{x1}!(true) |\n        @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!((x2 + x0)) ;\n        false => @{x1}!(false) |\n        @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!(x2)\n      }\n    } ;\n    false => @{x1}!(false)\n  }\n} |\nfor( @{\"value\"}, @{x0} <= @{Unforgeable(0x0f851a3a7f2de4323a43a45d466a7aba1c24a1d368946c9cf267eb13a4d0016a)} ) {\n  for( @{x1} <- @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)} ) {\n    @{x0}!(x1) |\n    @{Unforgeable(0x10d8ba59a837e8cd2ca8b29d37125669c3af1260c46949e326bde792f9272d0d)}!(x1)\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3}, @{x4} <= @{Unforgeable(0xb9a5addc47c459f22ab562af180ae6bc10799956f2c9d1b1dc531feb2d8c8a18)} ) {\n  new x5, x6, x7 in {\n    for( @{x8} <- @{Unforgeable(0x059b9866df5308ec4ae6e8799bc0fcc79e81222555c16833180beca29f57405d)} ; @{x9} <- @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)} ) {\n      @{Unforgeable(0x39bdf789fb12e1c3487abce560193e3a9545d2d7e311aca70f6f47d36ba5115a)}!((x9).size(), x8, *x5) |\n      for( @{x10} <- x5 ) {\n        x6!(x9, x10, {}, *x7) |\n        for( @{x11} <- x7 ) {\n          @{x4}!((true, \"Bond successful!\")) |\n          @{Unforgeable(0x4de349932e7e2443526ad0a4923cd69c0027184659a6c475112fecca2008dedb)}!((x11).set(x0,((x2 - x8), x1, x3, ((x9).size() + 1))))\n        }\n      }\n    } |\n    for( @{x8}, @{x9}, @{x10}, @{x11} <= x6 ) {\n      match x8 {\n        {x13 : (x14, x15, x16, x17)...x12} => x6!(x12, x9, (x10).set(x13,((x14 + (x9).nth((x17 - 1))), x15, x16, x17)), x11) ;\n        _ => @{x11}!(x10)\n      }\n    }\n  }\n} |\nfor( @{x0}, @{x1}, @{x2} <= @{Unforgeable(0x39bdf789fb12e1c3487abce560193e3a9545d2d7e311aca70f6f47d36ba5115a)} ) {\n  new x3, x4, x5, x6, x7, x8 in {\n    @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"range\", 1, (x0 + 1), *x3) |\n    for( @{x9} <- x3 ) {\n      @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"map\", x9, *x4, *x5) |\n      for( @{x10} <- x5 ) {\n        @{bundle+ {   Unforgeable(0x6df7905a81f51e556695f3cbeccd1a81ffa1f3ab4c0884d18324d709cc8ea406) }}!(\"fold\", x10, 0, *x6, *x8) |\n        for( @{x11} <- x8 ) {\n          @{x2}!(([(((x10).nth(0) + x1) - x11)] ++ (x10).slice(1,x0)))\n        }\n      }\n    } |\n    for( @{x9}, @{x10}, @{x11} <= x6 ) {\n      @{x11}!((x9 + x10))\n    } |\n    for( @{x9}, @{x10} <= x4 ) {\n      @{x10}!((2 * x1) * ((x0 + 1) - x9) / (x0 * (x0 + 1)))\n    }\n  }\n} |\nfor( @{x0}, @{x1}, @{x2}, @{x3} <= @{\"ed25519Verify\"} ) {\n  Nil\n} |\nfor( @{x0}, @{x1} <= @{\"keccak256Hash\"} ) {\n  Nil\n}"'
    assert output['timestamp'] == '1'
    assert output['faultTolerance'] == '0.14893617'
    assert output['mainParentHash'] == '""'
    assert output['sender'] == '""'
    assert output['shardId'] == '"rchain"'
    assert output['bondsValidatorList'] == '02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821: 43,043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e: 15,1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97: 2,23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3: 81'


def test_extract_validator_stake_from_bonds_validator_str() -> None:
    input = r'''02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821: 43,043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e: 15,1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97: 2,23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3: 81'''
    validator_stake = extract_validator_stake_from_bonds_validator_str(input)

    assert validator_stake['02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821'] == 43
    assert validator_stake['043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e'] == 15
    assert validator_stake['1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97'] == 2
    assert validator_stake['23bb89653c1d43578ed421e655e7a0ed9f3ed2e7eab820ad7739277e380cafa3'] == 81

def test_extract_block_hash_from_propose_output() -> None:
    response = "Response: Success! Block a91208047c... created and added.\n"
    assert extract_block_hash_from_propose_output(response) == "a91208047c"


def test_make_wallets_file_lines() -> None:
    random_generator = random.Random(1547120283)
    validator_keys = [
        KeyPair(private_key='80366db5fbb8dad7946f27037422715e4176dda41d582224db87b6c3b783d709', public_key='1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97'),
        KeyPair(private_key='120d42175739387af0264921bb117e4c4c05fbe2ce5410031e8b158c6e414bb5', public_key='02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821'),
        KeyPair(private_key='1f52d0bce0a92f5c79f2a88aae6d391ddf853e2eb8e688c5aa68002205f92dad', public_key='043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e'),
    ]

    output = make_wallets_file_lines(random_generator, validator_keys)

    assert output == [
        '0x1cd8bf79a2c1bd0afa160f6cdfeb8597257e48135c9bf5e4823f2875a1492c97,40,0',
        '0x02ab69930f74b931209df3ce54e3993674ab3e7c98f715608a5e74048b332821,45,0',
        '0x043c56051a613623cd024976427c073fe9c198ac2b98315a4baff9d333fbb42e,26,0',
    ]
